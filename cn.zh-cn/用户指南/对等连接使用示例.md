# 对等连接使用示例<a name="zh-cn_topic_0046809840"></a>

对等连接是建立在两个VPC之间的网络连接，可以实现多个VPC之间的互通，本文为您详细介绍对等连接是常见使用示例，具体如[表1](#table18339193642913)所示。

**表 1**  常见对等连接使用示例

<a name="table18339193642913"></a>
<table><thead align="left"><tr id="row15340936142912"><th class="cellrowborder" valign="top" width="10.69%" id="mcps1.2.5.1.1"><p id="p1545916361016"><a name="p1545916361016"></a><a name="p1545916361016"></a>VPC位置</p>
</th>
<th class="cellrowborder" valign="top" width="19.82%" id="mcps1.2.5.1.2"><p id="p579175112474"><a name="p579175112474"></a><a name="p579175112474"></a>VPC网段</p>
</th>
<th class="cellrowborder" valign="top" width="28.360000000000003%" id="mcps1.2.5.1.3"><p id="p1370510217197"><a name="p1370510217197"></a><a name="p1370510217197"></a>对等连接说明</p>
</th>
<th class="cellrowborder" valign="top" width="41.13%" id="mcps1.2.5.1.4"><p id="p1234083612915"><a name="p1234083612915"></a><a name="p1234083612915"></a>使用示例</p>
</th>
</tr>
</thead>
<tbody><tr id="row1340193610294"><td class="cellrowborder" valign="top" width="10.69%" headers="mcps1.2.5.1.1 "><p id="p34597361617"><a name="p34597361617"></a><a name="p34597361617"></a>同区域VPC</p>
</td>
<td class="cellrowborder" valign="top" width="19.82%" headers="mcps1.2.5.1.2 "><a name="ul36531058181712"></a><a name="ul36531058181712"></a><ul id="ul36531058181712"><li>VPC网段：不同VPC网段不重叠</li><li>子网网段：不同VPC的子网网段不重叠</li></ul>
</td>
<td class="cellrowborder" valign="top" width="28.360000000000003%" headers="mcps1.2.5.1.3 "><p id="p177052218191"><a name="p177052218191"></a><a name="p177052218191"></a>您可以创建整个VPC网段之间的对等连接，VPC内的所有资源可以通过该对等连接实现网络通信。</p>
</td>
<td class="cellrowborder" valign="top" width="41.13%" headers="mcps1.2.5.1.4 "><a name="ul97021025142019"></a><a name="ul97021025142019"></a><ul id="ul97021025142019"><li><a href="#section1450741418179">通过VPC对等连接实现多个VPC网络互通</a></li><li><a href="#section51284316142">通过VPC对等连接实现一个中心VPC与多个VPC之间网络互通</a></li><li>更多对等连接使用示例，请参见<a href="https://support.huaweicloud.com/bestpractice-vpc/bestpractice_0024.html" target="_blank" rel="noopener noreferrer">指向整个VPC网段的对等连接配置</a>。</li></ul>
</td>
</tr>
<tr id="row4340193617295"><td class="cellrowborder" rowspan="2" valign="top" width="10.69%" headers="mcps1.2.5.1.1 "><p id="p749725148"><a name="p749725148"></a><a name="p749725148"></a>同区域VPC</p>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="19.82%" headers="mcps1.2.5.1.2 "><a name="ul19800954125310"></a><a name="ul19800954125310"></a><ul id="ul19800954125310"><li>VPC网段：不同VPC网段重叠</li><li>子网网段：不同VPC的部分子网网段重叠</li></ul>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="28.360000000000003%" headers="mcps1.2.5.1.3 "><p id="p1664426195520"><a name="p1664426195520"></a><a name="p1664426195520"></a>VPC网段重叠时，您无法创建整个VPC网段之间的对等连接，此时建议您根据业务情况，创建如下对等连接：</p>
<a name="ul1342192719551"></a><a name="ul1342192719551"></a><ul id="ul1342192719551"><li>VPC子网之间的对等连接：指定子网之间网络互通，对等连接两端的子网网段不能重叠。</li><li>VPC内ECS之间的对等连接：指定ECS之间网络互通，对等连接两端的ECS的私有IP地址不能相同。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="41.13%" headers="mcps1.2.5.1.4 "><a name="ul139717301622"></a><a name="ul139717301622"></a><ul id="ul139717301622"><li><a href="#section6703221192012">通过VPC对等连接实现两个重叠网段VPC子网网络互通</a></li><li>更多对等连接使用示例，请参见<a href="https://support.huaweicloud.com/bestpractice-vpc/bestpractice_0025.html" target="_blank" rel="noopener noreferrer">指向VPC子网的对等连接配置</a>。</li></ul>
</td>
</tr>
<tr id="row1110817616914"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><a name="ul13179736111014"></a><a name="ul13179736111014"></a><ul id="ul13179736111014"><li><a href="#section654114220445">通过VPC对等连接实现一个中心VPC的ECS与两个VPC的ECS对等</a></li><li>更多对等连接使用示例，请参见<a href="https://support.huaweicloud.com/bestpractice-vpc/bestpractice_0026.html" target="_blank" rel="noopener noreferrer">指向VPC内ECS的对等连接配置</a>。</li></ul>
</td>
</tr>
<tr id="row63773918512"><td class="cellrowborder" valign="top" width="10.69%" headers="mcps1.2.5.1.1 "><p id="p549717514412"><a name="p549717514412"></a><a name="p549717514412"></a>同区域VPC</p>
</td>
<td class="cellrowborder" valign="top" width="19.82%" headers="mcps1.2.5.1.2 "><a name="ul1068014185381"></a><a name="ul1068014185381"></a><ul id="ul1068014185381"><li>VPC网段：不同VPC网段重叠</li><li>子网：不同VPC的全部子网网段重叠</li></ul>
</td>
<td class="cellrowborder" valign="top" width="28.360000000000003%" headers="mcps1.2.5.1.3 "><p id="p153358619538"><a name="p153358619538"></a><a name="p153358619538"></a>此种场景下，您创建的任何对等连接均是无效的，请重新规划VPC网段。</p>
</td>
<td class="cellrowborder" valign="top" width="41.13%" headers="mcps1.2.5.1.4 "><a name="ul1898723860"></a><a name="ul1898723860"></a><ul id="ul1898723860"><li><a href="#section0306616175518">无效的VPC对等连接</a></li><li>更多无效对等连接示例，请参见<a href="https://support.huaweicloud.com/bestpractice-vpc/bestpractice_0027.html" target="_blank" rel="noopener noreferrer">无效的VPC对等连接配置</a></li></ul>
</td>
</tr>
</tbody>
</table>

>![](public_sys-resources/icon-notice.gif) **须知：** 
>VPC对等连接仅支持连通同区域VPC，如果您的VPC位于不同的区域，则请您使用[云连接](https://support.huaweicloud.com/productdesc-cc/cc_01_0001.html)。

## 通过VPC对等连接实现多个VPC网络互通<a name="section1450741418179"></a>

-   两个VPC网络互通：以[图1](#fig465519155457)为例，通过VPC对等连接，连通VPC-A和VPC-B之间的网络。

    **图 1**  相互对等的两个VPC\(IPv4\)<a name="fig465519155457"></a>  
    ![](figures/相互对等的两个VPC(IPv4).png "相互对等的两个VPC(IPv4)")

    **表 2**  对等连接关系说明-相互对等的两个VPC\(IPv4\)

    <a name="table143498013410"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0000001207340272_row3349180347"><th class="cellrowborder" valign="top" width="22%" id="mcps1.2.5.1.1"><p id="zh-cn_topic_0000001207340272_p12349904414"><a name="zh-cn_topic_0000001207340272_p12349904414"></a><a name="zh-cn_topic_0000001207340272_p12349904414"></a>VPC对等关系</p>
    </th>
    <th class="cellrowborder" valign="top" width="24.85%" id="mcps1.2.5.1.2"><p id="zh-cn_topic_0000001207340272_p8349401843"><a name="zh-cn_topic_0000001207340272_p8349401843"></a><a name="zh-cn_topic_0000001207340272_p8349401843"></a>对等连接名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="26.85%" id="mcps1.2.5.1.3"><p id="zh-cn_topic_0000001207340272_p18349180148"><a name="zh-cn_topic_0000001207340272_p18349180148"></a><a name="zh-cn_topic_0000001207340272_p18349180148"></a>本端VPC</p>
    </th>
    <th class="cellrowborder" valign="top" width="26.3%" id="mcps1.2.5.1.4"><p id="zh-cn_topic_0000001207340272_p834910441"><a name="zh-cn_topic_0000001207340272_p834910441"></a><a name="zh-cn_topic_0000001207340272_p834910441"></a>对端VPC</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0000001207340272_row3349801841"><td class="cellrowborder" valign="top" width="22%" headers="mcps1.2.5.1.1 "><p id="zh-cn_topic_0000001207340272_p73491600412"><a name="zh-cn_topic_0000001207340272_p73491600412"></a><a name="zh-cn_topic_0000001207340272_p73491600412"></a>VPC-A和VPC-B对等</p>
    </td>
    <td class="cellrowborder" valign="top" width="24.85%" headers="mcps1.2.5.1.2 "><p id="zh-cn_topic_0000001207340272_p1434950741"><a name="zh-cn_topic_0000001207340272_p1434950741"></a><a name="zh-cn_topic_0000001207340272_p1434950741"></a>Peering-AB</p>
    </td>
    <td class="cellrowborder" valign="top" width="26.85%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0000001207340272_p193491301641"><a name="zh-cn_topic_0000001207340272_p193491301641"></a><a name="zh-cn_topic_0000001207340272_p193491301641"></a>VPC-A</p>
    </td>
    <td class="cellrowborder" valign="top" width="26.3%" headers="mcps1.2.5.1.4 "><p id="zh-cn_topic_0000001207340272_p6349200446"><a name="zh-cn_topic_0000001207340272_p6349200446"></a><a name="zh-cn_topic_0000001207340272_p6349200446"></a>VPC-B</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 3**  VPC路由表配置说明-相互对等的两个VPC\(IPv4\)

    <a name="table1612613219407"></a>
    <table><thead align="left"><tr id="row430343919239"><th class="cellrowborder" valign="top" width="9.69%" id="mcps1.2.6.1.1"><p id="p14493943162320"><a name="p14493943162320"></a><a name="p14493943162320"></a>路由表</p>
    </th>
    <th class="cellrowborder" valign="top" width="14.11%" id="mcps1.2.6.1.2"><p id="p13493843192317"><a name="p13493843192317"></a><a name="p13493843192317"></a>目的地址</p>
    </th>
    <th class="cellrowborder" valign="top" width="12.950000000000001%" id="mcps1.2.6.1.3"><p id="p2049310436232"><a name="p2049310436232"></a><a name="p2049310436232"></a>下一跳</p>
    </th>
    <th class="cellrowborder" valign="top" width="10.15%" id="mcps1.2.6.1.4"><p id="p53031639182311"><a name="p53031639182311"></a><a name="p53031639182311"></a>路由类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="53.1%" id="mcps1.2.6.1.5"><p id="p1038353716568"><a name="p1038353716568"></a><a name="p1038353716568"></a>路由说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row109751734165715"><td class="cellrowborder" valign="top" width="9.69%" headers="mcps1.2.6.1.1 "><p id="p15303123922315"><a name="p15303123922315"></a><a name="p15303123922315"></a>rtb-VPC-A</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.11%" headers="mcps1.2.6.1.2 "><p id="p18976534135719"><a name="p18976534135719"></a><a name="p18976534135719"></a>10.0.0.0/16</p>
    </td>
    <td class="cellrowborder" valign="top" width="12.950000000000001%" headers="mcps1.2.6.1.3 "><p id="p1097611342575"><a name="p1097611342575"></a><a name="p1097611342575"></a>Peering-AB</p>
    </td>
    <td class="cellrowborder" valign="top" width="10.15%" headers="mcps1.2.6.1.4 "><p id="p17976534125713"><a name="p17976534125713"></a><a name="p17976534125713"></a>自定义</p>
    </td>
    <td class="cellrowborder" valign="top" width="53.1%" headers="mcps1.2.6.1.5 "><p id="p11384143711560"><a name="p11384143711560"></a><a name="p11384143711560"></a>在VPC-A的路由表中，添加目的地址为VPC-B网段，下一跳指向Peering-AB的路由。</p>
    </td>
    </tr>
    <tr id="row138494723119"><td class="cellrowborder" valign="top" width="9.69%" headers="mcps1.2.6.1.1 "><p id="p10651440163113"><a name="p10651440163113"></a><a name="p10651440163113"></a>rtb-VPC-B</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.11%" headers="mcps1.2.6.1.2 "><p id="p7384164733117"><a name="p7384164733117"></a><a name="p7384164733117"></a>172.16.0.0/16</p>
    </td>
    <td class="cellrowborder" valign="top" width="12.950000000000001%" headers="mcps1.2.6.1.3 "><p id="p8947957105712"><a name="p8947957105712"></a><a name="p8947957105712"></a>Peering-AB</p>
    </td>
    <td class="cellrowborder" valign="top" width="10.15%" headers="mcps1.2.6.1.4 "><p id="p179471657175710"><a name="p179471657175710"></a><a name="p179471657175710"></a>自定义</p>
    </td>
    <td class="cellrowborder" valign="top" width="53.1%" headers="mcps1.2.6.1.5 "><p id="p738463735619"><a name="p738463735619"></a><a name="p738463735619"></a>在VPC-B的路由表中，添加目的地址为VPC-A网段，下一跳指向Peering-AB的路由。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   多个VPC网络互通：以[图2](#fig2032313286441)为例，通过VPC对等连接，连通VPC-A、VPC-B和VPC-C之间的网络。

    **图 2**  相互对等的多个VPC\(IPv4\)<a name="fig2032313286441"></a>  
    ![](figures/相互对等的多个VPC(IPv4).png "相互对等的多个VPC(IPv4)")

    **表 4**  对等连接关系说明-相互对等的多个VPC\(IPv4\)

    <a name="table656214284514"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0000001207340272_row9769165754613"><th class="cellrowborder" valign="top" width="21.98%" id="mcps1.2.5.1.1"><p id="zh-cn_topic_0000001207340272_p6769145716461"><a name="zh-cn_topic_0000001207340272_p6769145716461"></a><a name="zh-cn_topic_0000001207340272_p6769145716461"></a>VPC对等关系</p>
    </th>
    <th class="cellrowborder" valign="top" width="24.97%" id="mcps1.2.5.1.2"><p id="zh-cn_topic_0000001207340272_p1976945754613"><a name="zh-cn_topic_0000001207340272_p1976945754613"></a><a name="zh-cn_topic_0000001207340272_p1976945754613"></a>对等连接名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="26.86%" id="mcps1.2.5.1.3"><p id="zh-cn_topic_0000001207340272_p711716153266"><a name="zh-cn_topic_0000001207340272_p711716153266"></a><a name="zh-cn_topic_0000001207340272_p711716153266"></a>本端VPC</p>
    </th>
    <th class="cellrowborder" valign="top" width="26.19%" id="mcps1.2.5.1.4"><p id="zh-cn_topic_0000001207340272_p2119827122618"><a name="zh-cn_topic_0000001207340272_p2119827122618"></a><a name="zh-cn_topic_0000001207340272_p2119827122618"></a>对端VPC</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0000001207340272_row27693571467"><td class="cellrowborder" valign="top" width="21.98%" headers="mcps1.2.5.1.1 "><p id="zh-cn_topic_0000001207340272_p776935713465"><a name="zh-cn_topic_0000001207340272_p776935713465"></a><a name="zh-cn_topic_0000001207340272_p776935713465"></a>VPC-A和VPC-B对等</p>
    </td>
    <td class="cellrowborder" valign="top" width="24.97%" headers="mcps1.2.5.1.2 "><p id="zh-cn_topic_0000001207340272_p1277075724618"><a name="zh-cn_topic_0000001207340272_p1277075724618"></a><a name="zh-cn_topic_0000001207340272_p1277075724618"></a>Peering-AB</p>
    </td>
    <td class="cellrowborder" valign="top" width="26.86%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0000001207340272_p1311791552617"><a name="zh-cn_topic_0000001207340272_p1311791552617"></a><a name="zh-cn_topic_0000001207340272_p1311791552617"></a>VPC-A</p>
    </td>
    <td class="cellrowborder" valign="top" width="26.19%" headers="mcps1.2.5.1.4 "><p id="zh-cn_topic_0000001207340272_p4119327132611"><a name="zh-cn_topic_0000001207340272_p4119327132611"></a><a name="zh-cn_topic_0000001207340272_p4119327132611"></a>VPC-B</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0000001207340272_row14465144610498"><td class="cellrowborder" valign="top" width="21.98%" headers="mcps1.2.5.1.1 "><p id="zh-cn_topic_0000001207340272_p7465194654918"><a name="zh-cn_topic_0000001207340272_p7465194654918"></a><a name="zh-cn_topic_0000001207340272_p7465194654918"></a>VPC-A和VPC-C对等</p>
    </td>
    <td class="cellrowborder" valign="top" width="24.97%" headers="mcps1.2.5.1.2 "><p id="zh-cn_topic_0000001207340272_p2465846104918"><a name="zh-cn_topic_0000001207340272_p2465846104918"></a><a name="zh-cn_topic_0000001207340272_p2465846104918"></a>Peering-AC</p>
    </td>
    <td class="cellrowborder" valign="top" width="26.86%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0000001207340272_p211711532616"><a name="zh-cn_topic_0000001207340272_p211711532616"></a><a name="zh-cn_topic_0000001207340272_p211711532616"></a>VPC-A</p>
    </td>
    <td class="cellrowborder" valign="top" width="26.19%" headers="mcps1.2.5.1.4 "><p id="zh-cn_topic_0000001207340272_p12119727122613"><a name="zh-cn_topic_0000001207340272_p12119727122613"></a><a name="zh-cn_topic_0000001207340272_p12119727122613"></a>VPC-C</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0000001207340272_row1082518574517"><td class="cellrowborder" valign="top" width="21.98%" headers="mcps1.2.5.1.1 "><p id="zh-cn_topic_0000001207340272_p14825135711510"><a name="zh-cn_topic_0000001207340272_p14825135711510"></a><a name="zh-cn_topic_0000001207340272_p14825135711510"></a>VPC-B和VPC-C对等</p>
    </td>
    <td class="cellrowborder" valign="top" width="24.97%" headers="mcps1.2.5.1.2 "><p id="zh-cn_topic_0000001207340272_p9825185716510"><a name="zh-cn_topic_0000001207340272_p9825185716510"></a><a name="zh-cn_topic_0000001207340272_p9825185716510"></a>Peering-BC</p>
    </td>
    <td class="cellrowborder" valign="top" width="26.86%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0000001207340272_p191171115202615"><a name="zh-cn_topic_0000001207340272_p191171115202615"></a><a name="zh-cn_topic_0000001207340272_p191171115202615"></a>VPC-B</p>
    </td>
    <td class="cellrowborder" valign="top" width="26.19%" headers="mcps1.2.5.1.4 "><p id="zh-cn_topic_0000001207340272_p1811952732618"><a name="zh-cn_topic_0000001207340272_p1811952732618"></a><a name="zh-cn_topic_0000001207340272_p1811952732618"></a>VPC-C</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 5**  VPC路由表配置说明-相互对等的多个VPC\(IPv4\)

    <a name="table1577011575461"></a>
    <table><thead align="left"><tr id="row477075719461"><th class="cellrowborder" valign="top" width="9.700000000000001%" id="mcps1.2.6.1.1"><p id="p8770757114617"><a name="p8770757114617"></a><a name="p8770757114617"></a>路由表</p>
    </th>
    <th class="cellrowborder" valign="top" width="14.59%" id="mcps1.2.6.1.2"><p id="p7770557194611"><a name="p7770557194611"></a><a name="p7770557194611"></a>目的地址</p>
    </th>
    <th class="cellrowborder" valign="top" width="12.49%" id="mcps1.2.6.1.3"><p id="p14770125764619"><a name="p14770125764619"></a><a name="p14770125764619"></a>下一跳</p>
    </th>
    <th class="cellrowborder" valign="top" width="10.34%" id="mcps1.2.6.1.4"><p id="p13770125744616"><a name="p13770125744616"></a><a name="p13770125744616"></a>路由类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="52.88%" id="mcps1.2.6.1.5"><p id="p12083714312"><a name="p12083714312"></a><a name="p12083714312"></a>路由说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row17770105717465"><td class="cellrowborder" rowspan="2" valign="top" width="9.700000000000001%" headers="mcps1.2.6.1.1 "><p id="p8770155764610"><a name="p8770155764610"></a><a name="p8770155764610"></a>rtb-VPC-A</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.59%" headers="mcps1.2.6.1.2 "><p id="p4770165710464"><a name="p4770165710464"></a><a name="p4770165710464"></a>10.0.0.0/16</p>
    </td>
    <td class="cellrowborder" valign="top" width="12.49%" headers="mcps1.2.6.1.3 "><p id="p777013571465"><a name="p777013571465"></a><a name="p777013571465"></a>Peering-AB</p>
    </td>
    <td class="cellrowborder" valign="top" width="10.34%" headers="mcps1.2.6.1.4 "><p id="p9770057104612"><a name="p9770057104612"></a><a name="p9770057104612"></a>自定义</p>
    </td>
    <td class="cellrowborder" valign="top" width="52.88%" headers="mcps1.2.6.1.5 "><p id="p11209376317"><a name="p11209376317"></a><a name="p11209376317"></a>在VPC-A的路由表中，添加目的地址为VPC-B网段，下一跳指向Peering-AB的路由。</p>
    </td>
    </tr>
    <tr id="row8665173112527"><td class="cellrowborder" valign="top" headers="mcps1.2.6.1.1 "><p id="p1166614316528"><a name="p1166614316528"></a><a name="p1166614316528"></a>192.168.0.0/16</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.6.1.2 "><p id="p36661831125216"><a name="p36661831125216"></a><a name="p36661831125216"></a>Peering-AC</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.6.1.3 "><p id="p766643175217"><a name="p766643175217"></a><a name="p766643175217"></a>自定义</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.6.1.4 "><p id="p920183714311"><a name="p920183714311"></a><a name="p920183714311"></a>在VPC-A的路由表中，添加目的地址为VPC-C网段，下一跳指向Peering-AC的路由。</p>
    </td>
    </tr>
    <tr id="row18770357134617"><td class="cellrowborder" rowspan="2" valign="top" width="9.700000000000001%" headers="mcps1.2.6.1.1 "><p id="p1277065712468"><a name="p1277065712468"></a><a name="p1277065712468"></a>rtb-VPC-B</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.59%" headers="mcps1.2.6.1.2 "><p id="p4770145724613"><a name="p4770145724613"></a><a name="p4770145724613"></a>172.16.0.0/16</p>
    </td>
    <td class="cellrowborder" valign="top" width="12.49%" headers="mcps1.2.6.1.3 "><p id="p6770155794612"><a name="p6770155794612"></a><a name="p6770155794612"></a>Peering-AB</p>
    </td>
    <td class="cellrowborder" valign="top" width="10.34%" headers="mcps1.2.6.1.4 "><p id="p1277010576462"><a name="p1277010576462"></a><a name="p1277010576462"></a>自定义</p>
    </td>
    <td class="cellrowborder" valign="top" width="52.88%" headers="mcps1.2.6.1.5 "><p id="p5206371139"><a name="p5206371139"></a><a name="p5206371139"></a>在VPC-B的路由表中，添加目的地址为VPC-A网段，下一跳指向Peering-AB的路由。</p>
    </td>
    </tr>
    <tr id="row312713613535"><td class="cellrowborder" valign="top" headers="mcps1.2.6.1.1 "><p id="p12587121395314"><a name="p12587121395314"></a><a name="p12587121395314"></a>192.168.0.0/16</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.6.1.2 "><p id="p1758741318536"><a name="p1758741318536"></a><a name="p1758741318536"></a>Peering-BC</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.6.1.3 "><p id="p558716136539"><a name="p558716136539"></a><a name="p558716136539"></a>自定义</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.6.1.4 "><p id="p22017378318"><a name="p22017378318"></a><a name="p22017378318"></a>在VPC-B的路由表中，添加目的地址为VPC-C网段，下一跳指向Peering-BC的路由。</p>
    </td>
    </tr>
    <tr id="row115463010536"><td class="cellrowborder" rowspan="2" valign="top" width="9.700000000000001%" headers="mcps1.2.6.1.1 "><p id="p18154730195312"><a name="p18154730195312"></a><a name="p18154730195312"></a>rtb-VPC-C</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.59%" headers="mcps1.2.6.1.2 "><p id="p1415503020533"><a name="p1415503020533"></a><a name="p1415503020533"></a>172.16.0.0/16</p>
    </td>
    <td class="cellrowborder" valign="top" width="12.49%" headers="mcps1.2.6.1.3 "><p id="p9155103017534"><a name="p9155103017534"></a><a name="p9155103017534"></a>Peering-AC</p>
    </td>
    <td class="cellrowborder" valign="top" width="10.34%" headers="mcps1.2.6.1.4 "><p id="p11939144719541"><a name="p11939144719541"></a><a name="p11939144719541"></a>自定义</p>
    </td>
    <td class="cellrowborder" valign="top" width="52.88%" headers="mcps1.2.6.1.5 "><p id="p12200372032"><a name="p12200372032"></a><a name="p12200372032"></a>在VPC-C的路由表中，添加目的地址为VPC-A网段，下一跳指向Peering-AC的路由。</p>
    </td>
    </tr>
    <tr id="row415518302532"><td class="cellrowborder" valign="top" headers="mcps1.2.6.1.1 "><p id="p18155123019535"><a name="p18155123019535"></a><a name="p18155123019535"></a>10.0.0.0/16</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.6.1.2 "><p id="p101554309538"><a name="p101554309538"></a><a name="p101554309538"></a>Peering-BC</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.6.1.3 "><p id="p15939164705412"><a name="p15939164705412"></a><a name="p15939164705412"></a>自定义</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.6.1.4 "><p id="p12206375318"><a name="p12206375318"></a><a name="p12206375318"></a>在VPC-C的路由表中，添加目的地址为VPC-B网段，下一跳指向Peering-BC的路由。</p>
    </td>
    </tr>
    </tbody>
    </table>

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >如果您需要通信的VPC数量多，比如需要连通10个VPC，那么对等连接建立的组网会比较复杂，我们推荐您使用企业路由器服务。您可以将10个VPC接入企业路由器中，构建结构简单的中心辐射型组网，详细信息请参见[通过企业路由器实现同区域VPC互通](https://support.huaweicloud.com/qs-er/er_01_0062.html)。


## 通过VPC对等连接实现一个中心VPC与多个VPC之间网络互通<a name="section51284316142"></a>

以[图3](#fig724664185)为例，通过VPC对等连接，实现VPC-B、VPC-C、VPC-D、VPC-E、VPC-F、VPC-G和中心VPC-A之间的网络通信。

**图 3**  一个中心VPC与多个VPC对等\(IPv4\)<a name="fig724664185"></a>  
![](figures/一个中心VPC与多个VPC对等(IPv4).png "一个中心VPC与多个VPC对等(IPv4)")

**表 6**  对等连接关系说明-一个中心VPC与多个VPC对等\(IPv4\)

<a name="table1833282913206"></a>
<table><thead align="left"><tr id="zh-cn_topic_0000001207340272_row9902749191711"><th class="cellrowborder" valign="top" width="21.98%" id="mcps1.2.5.1.1"><p id="zh-cn_topic_0000001207340272_p690324981710"><a name="zh-cn_topic_0000001207340272_p690324981710"></a><a name="zh-cn_topic_0000001207340272_p690324981710"></a>VPC对等关系</p>
</th>
<th class="cellrowborder" valign="top" width="24.97%" id="mcps1.2.5.1.2"><p id="zh-cn_topic_0000001207340272_p1390314910170"><a name="zh-cn_topic_0000001207340272_p1390314910170"></a><a name="zh-cn_topic_0000001207340272_p1390314910170"></a>对等连接名称</p>
</th>
<th class="cellrowborder" valign="top" width="26.86%" id="mcps1.2.5.1.3"><p id="zh-cn_topic_0000001207340272_p99038495174"><a name="zh-cn_topic_0000001207340272_p99038495174"></a><a name="zh-cn_topic_0000001207340272_p99038495174"></a>本端VPC</p>
</th>
<th class="cellrowborder" valign="top" width="26.19%" id="mcps1.2.5.1.4"><p id="zh-cn_topic_0000001207340272_p139036496179"><a name="zh-cn_topic_0000001207340272_p139036496179"></a><a name="zh-cn_topic_0000001207340272_p139036496179"></a>对端VPC</p>
</th>
</tr>
</thead>
<tbody><tr id="zh-cn_topic_0000001207340272_row2903154951713"><td class="cellrowborder" valign="top" width="21.98%" headers="mcps1.2.5.1.1 "><p id="zh-cn_topic_0000001207340272_p139031349151715"><a name="zh-cn_topic_0000001207340272_p139031349151715"></a><a name="zh-cn_topic_0000001207340272_p139031349151715"></a>VPC-A和VPC-B对等</p>
</td>
<td class="cellrowborder" valign="top" width="24.97%" headers="mcps1.2.5.1.2 "><p id="zh-cn_topic_0000001207340272_p15903174910172"><a name="zh-cn_topic_0000001207340272_p15903174910172"></a><a name="zh-cn_topic_0000001207340272_p15903174910172"></a>Peering-AB</p>
</td>
<td class="cellrowborder" valign="top" width="26.86%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0000001207340272_p390313495171"><a name="zh-cn_topic_0000001207340272_p390313495171"></a><a name="zh-cn_topic_0000001207340272_p390313495171"></a>VPC-A</p>
</td>
<td class="cellrowborder" valign="top" width="26.19%" headers="mcps1.2.5.1.4 "><p id="zh-cn_topic_0000001207340272_p12903144912174"><a name="zh-cn_topic_0000001207340272_p12903144912174"></a><a name="zh-cn_topic_0000001207340272_p12903144912174"></a>VPC-B</p>
</td>
</tr>
<tr id="zh-cn_topic_0000001207340272_row1590354981719"><td class="cellrowborder" valign="top" width="21.98%" headers="mcps1.2.5.1.1 "><p id="zh-cn_topic_0000001207340272_p7903134916171"><a name="zh-cn_topic_0000001207340272_p7903134916171"></a><a name="zh-cn_topic_0000001207340272_p7903134916171"></a>VPC-A和VPC-C对等</p>
</td>
<td class="cellrowborder" valign="top" width="24.97%" headers="mcps1.2.5.1.2 "><p id="zh-cn_topic_0000001207340272_p6903154917173"><a name="zh-cn_topic_0000001207340272_p6903154917173"></a><a name="zh-cn_topic_0000001207340272_p6903154917173"></a>Peering-AC</p>
</td>
<td class="cellrowborder" valign="top" width="26.86%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0000001207340272_p690314913172"><a name="zh-cn_topic_0000001207340272_p690314913172"></a><a name="zh-cn_topic_0000001207340272_p690314913172"></a>VPC-A</p>
</td>
<td class="cellrowborder" valign="top" width="26.19%" headers="mcps1.2.5.1.4 "><p id="zh-cn_topic_0000001207340272_p1290317492177"><a name="zh-cn_topic_0000001207340272_p1290317492177"></a><a name="zh-cn_topic_0000001207340272_p1290317492177"></a>VPC-C</p>
</td>
</tr>
<tr id="zh-cn_topic_0000001207340272_row9250175419295"><td class="cellrowborder" valign="top" width="21.98%" headers="mcps1.2.5.1.1 "><p id="zh-cn_topic_0000001207340272_p26716510307"><a name="zh-cn_topic_0000001207340272_p26716510307"></a><a name="zh-cn_topic_0000001207340272_p26716510307"></a>VPC-A和VPC-D对等</p>
</td>
<td class="cellrowborder" valign="top" width="24.97%" headers="mcps1.2.5.1.2 "><p id="zh-cn_topic_0000001207340272_p0671556301"><a name="zh-cn_topic_0000001207340272_p0671556301"></a><a name="zh-cn_topic_0000001207340272_p0671556301"></a>Peering-AD</p>
</td>
<td class="cellrowborder" valign="top" width="26.86%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0000001207340272_p14671185183012"><a name="zh-cn_topic_0000001207340272_p14671185183012"></a><a name="zh-cn_topic_0000001207340272_p14671185183012"></a>VPC-A</p>
</td>
<td class="cellrowborder" valign="top" width="26.19%" headers="mcps1.2.5.1.4 "><p id="zh-cn_topic_0000001207340272_p66711953302"><a name="zh-cn_topic_0000001207340272_p66711953302"></a><a name="zh-cn_topic_0000001207340272_p66711953302"></a>VPC-D</p>
</td>
</tr>
<tr id="zh-cn_topic_0000001207340272_row18250195418296"><td class="cellrowborder" valign="top" width="21.98%" headers="mcps1.2.5.1.1 "><p id="zh-cn_topic_0000001207340272_p1444491016304"><a name="zh-cn_topic_0000001207340272_p1444491016304"></a><a name="zh-cn_topic_0000001207340272_p1444491016304"></a>VPC-A和VPC-E对等</p>
</td>
<td class="cellrowborder" valign="top" width="24.97%" headers="mcps1.2.5.1.2 "><p id="zh-cn_topic_0000001207340272_p444491010306"><a name="zh-cn_topic_0000001207340272_p444491010306"></a><a name="zh-cn_topic_0000001207340272_p444491010306"></a>Peering-AE</p>
</td>
<td class="cellrowborder" valign="top" width="26.86%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0000001207340272_p1844461073017"><a name="zh-cn_topic_0000001207340272_p1844461073017"></a><a name="zh-cn_topic_0000001207340272_p1844461073017"></a>VPC-A</p>
</td>
<td class="cellrowborder" valign="top" width="26.19%" headers="mcps1.2.5.1.4 "><p id="zh-cn_topic_0000001207340272_p3444141073019"><a name="zh-cn_topic_0000001207340272_p3444141073019"></a><a name="zh-cn_topic_0000001207340272_p3444141073019"></a>VPC-E</p>
</td>
</tr>
<tr id="zh-cn_topic_0000001207340272_row9278145812915"><td class="cellrowborder" valign="top" width="21.98%" headers="mcps1.2.5.1.1 "><p id="zh-cn_topic_0000001207340272_p1344410101309"><a name="zh-cn_topic_0000001207340272_p1344410101309"></a><a name="zh-cn_topic_0000001207340272_p1344410101309"></a>VPC-A和VPC-F对等</p>
</td>
<td class="cellrowborder" valign="top" width="24.97%" headers="mcps1.2.5.1.2 "><p id="zh-cn_topic_0000001207340272_p444441019307"><a name="zh-cn_topic_0000001207340272_p444441019307"></a><a name="zh-cn_topic_0000001207340272_p444441019307"></a>Peering-AF</p>
</td>
<td class="cellrowborder" valign="top" width="26.86%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0000001207340272_p7444610163012"><a name="zh-cn_topic_0000001207340272_p7444610163012"></a><a name="zh-cn_topic_0000001207340272_p7444610163012"></a>VPC-A</p>
</td>
<td class="cellrowborder" valign="top" width="26.19%" headers="mcps1.2.5.1.4 "><p id="zh-cn_topic_0000001207340272_p184441110113014"><a name="zh-cn_topic_0000001207340272_p184441110113014"></a><a name="zh-cn_topic_0000001207340272_p184441110113014"></a>VPC-F</p>
</td>
</tr>
<tr id="zh-cn_topic_0000001207340272_row3278458172911"><td class="cellrowborder" valign="top" width="21.98%" headers="mcps1.2.5.1.1 "><p id="zh-cn_topic_0000001207340272_p1144401063017"><a name="zh-cn_topic_0000001207340272_p1144401063017"></a><a name="zh-cn_topic_0000001207340272_p1144401063017"></a>VPC-A和VPC-G对等</p>
</td>
<td class="cellrowborder" valign="top" width="24.97%" headers="mcps1.2.5.1.2 "><p id="zh-cn_topic_0000001207340272_p1844401013300"><a name="zh-cn_topic_0000001207340272_p1844401013300"></a><a name="zh-cn_topic_0000001207340272_p1844401013300"></a>Peering-AG</p>
</td>
<td class="cellrowborder" valign="top" width="26.86%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0000001207340272_p12444171020304"><a name="zh-cn_topic_0000001207340272_p12444171020304"></a><a name="zh-cn_topic_0000001207340272_p12444171020304"></a>VPC-A</p>
</td>
<td class="cellrowborder" valign="top" width="26.19%" headers="mcps1.2.5.1.4 "><p id="zh-cn_topic_0000001207340272_p9445141003016"><a name="zh-cn_topic_0000001207340272_p9445141003016"></a><a name="zh-cn_topic_0000001207340272_p9445141003016"></a>VPC-G</p>
</td>
</tr>
</tbody>
</table>

**表 7**  VPC路由表配置说明-一个中心VPC与多个VPC对等\(IPv4\)

<a name="table12903154901710"></a>
<table><thead align="left"><tr id="row9904154931716"><th class="cellrowborder" valign="top" width="10.07%" id="mcps1.2.6.1.1"><p id="p1290494941715"><a name="p1290494941715"></a><a name="p1290494941715"></a>路由表</p>
</th>
<th class="cellrowborder" valign="top" width="14.32%" id="mcps1.2.6.1.2"><p id="p8904549111716"><a name="p8904549111716"></a><a name="p8904549111716"></a>目的地址</p>
</th>
<th class="cellrowborder" valign="top" width="12.47%" id="mcps1.2.6.1.3"><p id="p5904144910170"><a name="p5904144910170"></a><a name="p5904144910170"></a>下一跳</p>
</th>
<th class="cellrowborder" valign="top" width="10.24%" id="mcps1.2.6.1.4"><p id="p59045490178"><a name="p59045490178"></a><a name="p59045490178"></a>路由类型</p>
</th>
<th class="cellrowborder" valign="top" width="52.900000000000006%" id="mcps1.2.6.1.5"><p id="p11904104961717"><a name="p11904104961717"></a><a name="p11904104961717"></a>路由说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row69041949141714"><td class="cellrowborder" rowspan="6" valign="top" width="10.07%" headers="mcps1.2.6.1.1 "><p id="p1990444931710"><a name="p1990444931710"></a><a name="p1990444931710"></a>rtb-VPC-A</p>
</td>
<td class="cellrowborder" valign="top" width="14.32%" headers="mcps1.2.6.1.2 "><p id="p12904194912175"><a name="p12904194912175"></a><a name="p12904194912175"></a>10.0.0.0/16</p>
</td>
<td class="cellrowborder" valign="top" width="12.47%" headers="mcps1.2.6.1.3 "><p id="p12905449121710"><a name="p12905449121710"></a><a name="p12905449121710"></a>Peering-AB</p>
</td>
<td class="cellrowborder" valign="top" width="10.24%" headers="mcps1.2.6.1.4 "><p id="p2090594951719"><a name="p2090594951719"></a><a name="p2090594951719"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" width="52.900000000000006%" headers="mcps1.2.6.1.5 "><p id="p490524991710"><a name="p490524991710"></a><a name="p490524991710"></a>在VPC-A的路由表中，添加目的地址为VPC-B网段，下一跳指向Peering-AB的路由。</p>
</td>
</tr>
<tr id="row119051649171715"><td class="cellrowborder" valign="top" headers="mcps1.2.6.1.1 "><p id="p169051049161718"><a name="p169051049161718"></a><a name="p169051049161718"></a>192.168.0.0/16</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.2 "><p id="p5905184919177"><a name="p5905184919177"></a><a name="p5905184919177"></a>Peering-AC</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.3 "><p id="p1490584912176"><a name="p1490584912176"></a><a name="p1490584912176"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.4 "><p id="p14905164911179"><a name="p14905164911179"></a><a name="p14905164911179"></a>在VPC-A的路由表中，添加目的地址为VPC-C网段，下一跳指向Peering-AC的路由。</p>
</td>
</tr>
<tr id="row62344175316"><td class="cellrowborder" valign="top" headers="mcps1.2.6.1.1 "><p id="p15986636163111"><a name="p15986636163111"></a><a name="p15986636163111"></a>10.2.0.0/16</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.2 "><p id="p1723461717316"><a name="p1723461717316"></a><a name="p1723461717316"></a>Peering-AD</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.3 "><p id="p14807389321"><a name="p14807389321"></a><a name="p14807389321"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.4 "><p id="p166724478326"><a name="p166724478326"></a><a name="p166724478326"></a>在VPC-A的路由表中，添加目的地址为VPC-D网段，下一跳指向Peering-AD的路由。</p>
</td>
</tr>
<tr id="row323471716319"><td class="cellrowborder" valign="top" headers="mcps1.2.6.1.1 "><p id="p139861936163119"><a name="p139861936163119"></a><a name="p139861936163119"></a>10.3.0.0/16</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.2 "><p id="p174632115324"><a name="p174632115324"></a><a name="p174632115324"></a>Peering-AE</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.3 "><p id="p1548053803213"><a name="p1548053803213"></a><a name="p1548053803213"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.4 "><p id="p176723479329"><a name="p176723479329"></a><a name="p176723479329"></a>在VPC-A的路由表中，添加目的地址为VPC-E网段，下一跳指向Peering-AE的路由。</p>
</td>
</tr>
<tr id="row1086491310315"><td class="cellrowborder" valign="top" headers="mcps1.2.6.1.1 "><p id="p29869367314"><a name="p29869367314"></a><a name="p29869367314"></a>172.17.0.0/16</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.2 "><p id="p19746421173220"><a name="p19746421173220"></a><a name="p19746421173220"></a>Peering-AF</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.3 "><p id="p1763114113327"><a name="p1763114113327"></a><a name="p1763114113327"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.4 "><p id="p201931249123214"><a name="p201931249123214"></a><a name="p201931249123214"></a>在VPC-A的路由表中，添加目的地址为VPC-F网段，下一跳指向Peering-AF的路由。</p>
</td>
</tr>
<tr id="row19865121319318"><td class="cellrowborder" valign="top" headers="mcps1.2.6.1.1 "><p id="p0986103653118"><a name="p0986103653118"></a><a name="p0986103653118"></a>10.4.0.0/16</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.2 "><p id="p37461821103216"><a name="p37461821103216"></a><a name="p37461821103216"></a>Peering-AG</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.3 "><p id="p1976344173218"><a name="p1976344173218"></a><a name="p1976344173218"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.4 "><p id="p4193649133210"><a name="p4193649133210"></a><a name="p4193649133210"></a>在VPC-A的路由表中，添加目的地址为VPC-G网段，下一跳指向Peering-AG的路由。</p>
</td>
</tr>
<tr id="row7906194910173"><td class="cellrowborder" valign="top" width="10.07%" headers="mcps1.2.6.1.1 "><p id="p321714349211"><a name="p321714349211"></a><a name="p321714349211"></a>rtb-VPC-B</p>
</td>
<td class="cellrowborder" valign="top" width="14.32%" headers="mcps1.2.6.1.2 "><p id="p189066496174"><a name="p189066496174"></a><a name="p189066496174"></a>172.16.0.0/16</p>
</td>
<td class="cellrowborder" valign="top" width="12.47%" headers="mcps1.2.6.1.3 "><p id="p1590612495171"><a name="p1590612495171"></a><a name="p1590612495171"></a>Peering-AB</p>
</td>
<td class="cellrowborder" valign="top" width="10.24%" headers="mcps1.2.6.1.4 "><p id="p199061949141720"><a name="p199061949141720"></a><a name="p199061949141720"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" width="52.900000000000006%" headers="mcps1.2.6.1.5 "><p id="p6906174910177"><a name="p6906174910177"></a><a name="p6906174910177"></a>在VPC-B的路由表中，添加目的地址为VPC-A网段，下一跳指向Peering-AB的路由。</p>
</td>
</tr>
<tr id="row1090610496178"><td class="cellrowborder" valign="top" width="10.07%" headers="mcps1.2.6.1.1 "><p id="p34821425217"><a name="p34821425217"></a><a name="p34821425217"></a>rtb-VPC-C</p>
</td>
<td class="cellrowborder" valign="top" width="14.32%" headers="mcps1.2.6.1.2 "><p id="p14906174910173"><a name="p14906174910173"></a><a name="p14906174910173"></a>172.16.0.0/16</p>
</td>
<td class="cellrowborder" valign="top" width="12.47%" headers="mcps1.2.6.1.3 "><p id="p1390684971715"><a name="p1390684971715"></a><a name="p1390684971715"></a>Peering-AC</p>
</td>
<td class="cellrowborder" valign="top" width="10.24%" headers="mcps1.2.6.1.4 "><p id="p119079499178"><a name="p119079499178"></a><a name="p119079499178"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" width="52.900000000000006%" headers="mcps1.2.6.1.5 "><p id="p18907949201710"><a name="p18907949201710"></a><a name="p18907949201710"></a>在VPC-C的路由表中，添加目的地址为VPC-A网段，下一跳指向Peering-AC的路由。</p>
</td>
</tr>
<tr id="row1419016356344"><td class="cellrowborder" valign="top" width="10.07%" headers="mcps1.2.6.1.1 "><p id="p67901466211"><a name="p67901466211"></a><a name="p67901466211"></a>rtb-VPC-D</p>
</td>
<td class="cellrowborder" valign="top" width="14.32%" headers="mcps1.2.6.1.2 "><p id="p199143211354"><a name="p199143211354"></a><a name="p199143211354"></a>172.16.0.0/16</p>
</td>
<td class="cellrowborder" valign="top" width="12.47%" headers="mcps1.2.6.1.3 "><p id="p15917325357"><a name="p15917325357"></a><a name="p15917325357"></a>Peering-AD</p>
</td>
<td class="cellrowborder" valign="top" width="10.24%" headers="mcps1.2.6.1.4 "><p id="p691203243514"><a name="p691203243514"></a><a name="p691203243514"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" width="52.900000000000006%" headers="mcps1.2.6.1.5 "><p id="p1991332123516"><a name="p1991332123516"></a><a name="p1991332123516"></a>在VPC-D的路由表中，添加目的地址为VPC-A网段，下一跳指向Peering-AD的路由。</p>
</td>
</tr>
<tr id="row102941948143412"><td class="cellrowborder" valign="top" width="10.07%" headers="mcps1.2.6.1.1 "><p id="p1549035442110"><a name="p1549035442110"></a><a name="p1549035442110"></a>rtb-VPC-E</p>
</td>
<td class="cellrowborder" valign="top" width="14.32%" headers="mcps1.2.6.1.2 "><p id="p10605183483518"><a name="p10605183483518"></a><a name="p10605183483518"></a>172.16.0.0/16</p>
</td>
<td class="cellrowborder" valign="top" width="12.47%" headers="mcps1.2.6.1.3 "><p id="p146056340350"><a name="p146056340350"></a><a name="p146056340350"></a>Peering-AE</p>
</td>
<td class="cellrowborder" valign="top" width="10.24%" headers="mcps1.2.6.1.4 "><p id="p16606183410357"><a name="p16606183410357"></a><a name="p16606183410357"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" width="52.900000000000006%" headers="mcps1.2.6.1.5 "><p id="p6606193473517"><a name="p6606193473517"></a><a name="p6606193473517"></a>在VPC-E的路由表中，添加目的地址为VPC-A网段，下一跳指向Peering-AE的路由。</p>
</td>
</tr>
<tr id="row136177120357"><td class="cellrowborder" valign="top" width="10.07%" headers="mcps1.2.6.1.1 "><p id="p4440185914214"><a name="p4440185914214"></a><a name="p4440185914214"></a>rtb-VPC-F</p>
</td>
<td class="cellrowborder" valign="top" width="14.32%" headers="mcps1.2.6.1.2 "><p id="p1217143803514"><a name="p1217143803514"></a><a name="p1217143803514"></a>172.16.0.0/16</p>
</td>
<td class="cellrowborder" valign="top" width="12.47%" headers="mcps1.2.6.1.3 "><p id="p617143803519"><a name="p617143803519"></a><a name="p617143803519"></a>Peering-AF</p>
</td>
<td class="cellrowborder" valign="top" width="10.24%" headers="mcps1.2.6.1.4 "><p id="p6171163817354"><a name="p6171163817354"></a><a name="p6171163817354"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" width="52.900000000000006%" headers="mcps1.2.6.1.5 "><p id="p1317153803520"><a name="p1317153803520"></a><a name="p1317153803520"></a>在VPC-F的路由表中，添加目的地址为VPC-A网段，下一跳指向Peering-AF的路由。</p>
</td>
</tr>
<tr id="row66178115351"><td class="cellrowborder" valign="top" width="10.07%" headers="mcps1.2.6.1.1 "><p id="p294323112212"><a name="p294323112212"></a><a name="p294323112212"></a>rtb-VPC-G</p>
</td>
<td class="cellrowborder" valign="top" width="14.32%" headers="mcps1.2.6.1.2 "><p id="p3833539193514"><a name="p3833539193514"></a><a name="p3833539193514"></a>172.16.0.0/16</p>
</td>
<td class="cellrowborder" valign="top" width="12.47%" headers="mcps1.2.6.1.3 "><p id="p20833133917355"><a name="p20833133917355"></a><a name="p20833133917355"></a>Peering-AG</p>
</td>
<td class="cellrowborder" valign="top" width="10.24%" headers="mcps1.2.6.1.4 "><p id="p16833163973517"><a name="p16833163973517"></a><a name="p16833163973517"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" width="52.900000000000006%" headers="mcps1.2.6.1.5 "><p id="p1483313913516"><a name="p1483313913516"></a><a name="p1483313913516"></a>在VPC-G的路由表中，添加目的地址为VPC-A网段，下一跳指向Peering-AG的路由。</p>
</td>
</tr>
</tbody>
</table>

## 通过VPC对等连接实现两个重叠网段VPC子网网络互通<a name="section6703221192012"></a>

以[图4](#fig06955277200)为例，由于VPC-A和VPC-B的网段重叠，并且Subnet-A01和Subnet-B01子网网段重叠，那么您无法通过对等连接实现整个VPC-A和VPC-B之间的网络通信。此种情况下，对等连接可以连通非重叠子网Subnet-A02和Subnet-B02之间的网络。

**图 4**  相互对等的两个重叠网段VPC子网\(IPv4\)<a name="fig06955277200"></a>  
![](figures/相互对等的两个重叠网段VPC子网(IPv4).png "相互对等的两个重叠网段VPC子网(IPv4)")

**表 8**  对等连接关系说明-相互对等的两个重叠网段VPC子网\(IPv4\)

<a name="table569552722016"></a>
<table><thead align="left"><tr id="zh-cn_topic_0000001207340272_row3349180347_1"><th class="cellrowborder" valign="top" width="22%" id="mcps1.2.5.1.1"><p id="zh-cn_topic_0000001207340272_p12349904414_1"><a name="zh-cn_topic_0000001207340272_p12349904414_1"></a><a name="zh-cn_topic_0000001207340272_p12349904414_1"></a>VPC对等关系</p>
</th>
<th class="cellrowborder" valign="top" width="24.85%" id="mcps1.2.5.1.2"><p id="zh-cn_topic_0000001207340272_p8349401843_1"><a name="zh-cn_topic_0000001207340272_p8349401843_1"></a><a name="zh-cn_topic_0000001207340272_p8349401843_1"></a>对等连接名称</p>
</th>
<th class="cellrowborder" valign="top" width="26.85%" id="mcps1.2.5.1.3"><p id="zh-cn_topic_0000001207340272_p18349180148_1"><a name="zh-cn_topic_0000001207340272_p18349180148_1"></a><a name="zh-cn_topic_0000001207340272_p18349180148_1"></a>本端VPC</p>
</th>
<th class="cellrowborder" valign="top" width="26.3%" id="mcps1.2.5.1.4"><p id="zh-cn_topic_0000001207340272_p834910441_1"><a name="zh-cn_topic_0000001207340272_p834910441_1"></a><a name="zh-cn_topic_0000001207340272_p834910441_1"></a>对端VPC</p>
</th>
</tr>
</thead>
<tbody><tr id="zh-cn_topic_0000001207340272_row3349801841_1"><td class="cellrowborder" valign="top" width="22%" headers="mcps1.2.5.1.1 "><p id="zh-cn_topic_0000001207340272_p73491600412_1"><a name="zh-cn_topic_0000001207340272_p73491600412_1"></a><a name="zh-cn_topic_0000001207340272_p73491600412_1"></a>VPC-A和VPC-B对等</p>
</td>
<td class="cellrowborder" valign="top" width="24.85%" headers="mcps1.2.5.1.2 "><p id="zh-cn_topic_0000001207340272_p1434950741_1"><a name="zh-cn_topic_0000001207340272_p1434950741_1"></a><a name="zh-cn_topic_0000001207340272_p1434950741_1"></a>Peering-AB</p>
</td>
<td class="cellrowborder" valign="top" width="26.85%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0000001207340272_p193491301641_1"><a name="zh-cn_topic_0000001207340272_p193491301641_1"></a><a name="zh-cn_topic_0000001207340272_p193491301641_1"></a>VPC-A</p>
</td>
<td class="cellrowborder" valign="top" width="26.3%" headers="mcps1.2.5.1.4 "><p id="zh-cn_topic_0000001207340272_p6349200446_1"><a name="zh-cn_topic_0000001207340272_p6349200446_1"></a><a name="zh-cn_topic_0000001207340272_p6349200446_1"></a>VPC-B</p>
</td>
</tr>
</tbody>
</table>

**表 9**  VPC路由表配置说明-相互对等的两个重叠网段VPC子网\(IPv4\)

<a name="table56952279209"></a>
<table><thead align="left"><tr id="row1369542762013"><th class="cellrowborder" valign="top" width="9.69%" id="mcps1.2.6.1.1"><p id="p369511278202"><a name="p369511278202"></a><a name="p369511278202"></a>路由表</p>
</th>
<th class="cellrowborder" valign="top" width="14.11%" id="mcps1.2.6.1.2"><p id="p569582716205"><a name="p569582716205"></a><a name="p569582716205"></a>目的地址</p>
</th>
<th class="cellrowborder" valign="top" width="12.950000000000001%" id="mcps1.2.6.1.3"><p id="p16952027162016"><a name="p16952027162016"></a><a name="p16952027162016"></a>下一跳</p>
</th>
<th class="cellrowborder" valign="top" width="10.15%" id="mcps1.2.6.1.4"><p id="p20696827172010"><a name="p20696827172010"></a><a name="p20696827172010"></a>路由类型</p>
</th>
<th class="cellrowborder" valign="top" width="53.1%" id="mcps1.2.6.1.5"><p id="p126969277206"><a name="p126969277206"></a><a name="p126969277206"></a>路由说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row5696102772013"><td class="cellrowborder" valign="top" width="9.69%" headers="mcps1.2.6.1.1 "><p id="p6696122714206"><a name="p6696122714206"></a><a name="p6696122714206"></a>rtb-VPC-A</p>
</td>
<td class="cellrowborder" valign="top" width="14.11%" headers="mcps1.2.6.1.2 "><p id="p669692742013"><a name="p669692742013"></a><a name="p669692742013"></a>10.0.2.0/24</p>
</td>
<td class="cellrowborder" valign="top" width="12.950000000000001%" headers="mcps1.2.6.1.3 "><p id="p15696427162010"><a name="p15696427162010"></a><a name="p15696427162010"></a>Peering-AB</p>
</td>
<td class="cellrowborder" valign="top" width="10.15%" headers="mcps1.2.6.1.4 "><p id="p10696142719208"><a name="p10696142719208"></a><a name="p10696142719208"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" width="53.1%" headers="mcps1.2.6.1.5 "><p id="p176964271204"><a name="p176964271204"></a><a name="p176964271204"></a>在VPC-A的路由表中，添加目的地址为Subnet-B02网段，下一跳指向Peering-AB的路由。</p>
</td>
</tr>
<tr id="row169614276204"><td class="cellrowborder" valign="top" width="9.69%" headers="mcps1.2.6.1.1 "><p id="p969612762012"><a name="p969612762012"></a><a name="p969612762012"></a>rtb-VPC-B</p>
</td>
<td class="cellrowborder" valign="top" width="14.11%" headers="mcps1.2.6.1.2 "><p id="p3696102782015"><a name="p3696102782015"></a><a name="p3696102782015"></a>10.0.1.0/24</p>
</td>
<td class="cellrowborder" valign="top" width="12.950000000000001%" headers="mcps1.2.6.1.3 "><p id="p1469692711201"><a name="p1469692711201"></a><a name="p1469692711201"></a>Peering-AB</p>
</td>
<td class="cellrowborder" valign="top" width="10.15%" headers="mcps1.2.6.1.4 "><p id="p36961327182020"><a name="p36961327182020"></a><a name="p36961327182020"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" width="53.1%" headers="mcps1.2.6.1.5 "><p id="p18696182717208"><a name="p18696182717208"></a><a name="p18696182717208"></a>在VPC-B的路由表中，添加目的地址为Subnet-A02网段，下一跳指向Peering-AB的路由。</p>
</td>
</tr>
</tbody>
</table>

## 通过VPC对等连接实现一个中心VPC的ECS与两个VPC的ECS对等<a name="section654114220445"></a>

以[图5](#fig568511518481)为例，由于VPC-B和VPC-C的网段重叠，并且Subnet-B01和Subnet-BC01子网网段重叠，那么您无法同时创建VPC-A和VPC-B、VPC-A和VPC-C之间的对等连接。通过对等连接可以连通子网Subnet-B01内的ECS和Subnet-A01内的ECS，子网Subnet-C01内的ECS和Subnet-A01内的ECS。

**图 5**  一个中心VPC的ECS与两个VPC的ECS对等\(IPv4\)<a name="fig568511518481"></a>  
![](figures/一个中心VPC的ECS与两个VPC的ECS对等(IPv4).png "一个中心VPC的ECS与两个VPC的ECS对等(IPv4)")

**表 10**  对等连接关系说明-一个中心VPC的ECS与两个VPC的ECS对等\(IPv4\)

<a name="table137291117101413"></a>
<table><thead align="left"><tr id="zh-cn_topic_0000001207500274_row1372919171146"><th class="cellrowborder" valign="top" width="22%" id="mcps1.2.5.1.1"><p id="zh-cn_topic_0000001207500274_p5729121715146"><a name="zh-cn_topic_0000001207500274_p5729121715146"></a><a name="zh-cn_topic_0000001207500274_p5729121715146"></a>VPC对等关系</p>
</th>
<th class="cellrowborder" valign="top" width="24.85%" id="mcps1.2.5.1.2"><p id="zh-cn_topic_0000001207500274_p117291717171417"><a name="zh-cn_topic_0000001207500274_p117291717171417"></a><a name="zh-cn_topic_0000001207500274_p117291717171417"></a>对等连接名称</p>
</th>
<th class="cellrowborder" valign="top" width="26.85%" id="mcps1.2.5.1.3"><p id="zh-cn_topic_0000001207500274_p672915170149"><a name="zh-cn_topic_0000001207500274_p672915170149"></a><a name="zh-cn_topic_0000001207500274_p672915170149"></a>本端VPC</p>
</th>
<th class="cellrowborder" valign="top" width="26.3%" id="mcps1.2.5.1.4"><p id="zh-cn_topic_0000001207500274_p13729171731411"><a name="zh-cn_topic_0000001207500274_p13729171731411"></a><a name="zh-cn_topic_0000001207500274_p13729171731411"></a>对端VPC</p>
</th>
</tr>
</thead>
<tbody><tr id="zh-cn_topic_0000001207500274_row2729181714143"><td class="cellrowborder" valign="top" width="22%" headers="mcps1.2.5.1.1 "><p id="zh-cn_topic_0000001207500274_p16729017141413"><a name="zh-cn_topic_0000001207500274_p16729017141413"></a><a name="zh-cn_topic_0000001207500274_p16729017141413"></a>VPC-A内ECS-A01-1和VPC-B内ECS-B01对等</p>
</td>
<td class="cellrowborder" valign="top" width="24.85%" headers="mcps1.2.5.1.2 "><p id="zh-cn_topic_0000001207500274_p472961717142"><a name="zh-cn_topic_0000001207500274_p472961717142"></a><a name="zh-cn_topic_0000001207500274_p472961717142"></a>Peering-AB</p>
</td>
<td class="cellrowborder" valign="top" width="26.85%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0000001207500274_p8729817171413"><a name="zh-cn_topic_0000001207500274_p8729817171413"></a><a name="zh-cn_topic_0000001207500274_p8729817171413"></a>VPC-A</p>
</td>
<td class="cellrowborder" valign="top" width="26.3%" headers="mcps1.2.5.1.4 "><p id="zh-cn_topic_0000001207500274_p12729517171415"><a name="zh-cn_topic_0000001207500274_p12729517171415"></a><a name="zh-cn_topic_0000001207500274_p12729517171415"></a>VPC-B</p>
</td>
</tr>
<tr id="zh-cn_topic_0000001207500274_row157291917191415"><td class="cellrowborder" valign="top" width="22%" headers="mcps1.2.5.1.1 "><p id="zh-cn_topic_0000001207500274_p15729131781419"><a name="zh-cn_topic_0000001207500274_p15729131781419"></a><a name="zh-cn_topic_0000001207500274_p15729131781419"></a>VPC-A内ECS-A01-2和VPC-C内ECS-C01对等</p>
</td>
<td class="cellrowborder" valign="top" width="24.85%" headers="mcps1.2.5.1.2 "><p id="zh-cn_topic_0000001207500274_p2729517151411"><a name="zh-cn_topic_0000001207500274_p2729517151411"></a><a name="zh-cn_topic_0000001207500274_p2729517151411"></a>Peering-AC</p>
</td>
<td class="cellrowborder" valign="top" width="26.85%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0000001207500274_p18729151718146"><a name="zh-cn_topic_0000001207500274_p18729151718146"></a><a name="zh-cn_topic_0000001207500274_p18729151718146"></a>VPC-A</p>
</td>
<td class="cellrowborder" valign="top" width="26.3%" headers="mcps1.2.5.1.4 "><p id="zh-cn_topic_0000001207500274_p972951712141"><a name="zh-cn_topic_0000001207500274_p972951712141"></a><a name="zh-cn_topic_0000001207500274_p972951712141"></a>VPC-C</p>
</td>
</tr>
</tbody>
</table>

**表 11**  VPC路由表配置说明-一个中心VPC的ECS与两个VPC的ECS对等\(IPv4\)

<a name="table117301117101418"></a>
<table><thead align="left"><tr id="row1273011179148"><th class="cellrowborder" valign="top" width="9.67%" id="mcps1.2.6.1.1"><p id="p1730817201411"><a name="p1730817201411"></a><a name="p1730817201411"></a>路由表</p>
</th>
<th class="cellrowborder" valign="top" width="14.19%" id="mcps1.2.6.1.2"><p id="p3730181711415"><a name="p3730181711415"></a><a name="p3730181711415"></a>目的地址</p>
</th>
<th class="cellrowborder" valign="top" width="12.629999999999999%" id="mcps1.2.6.1.3"><p id="p15730141710145"><a name="p15730141710145"></a><a name="p15730141710145"></a>下一跳</p>
</th>
<th class="cellrowborder" valign="top" width="10.65%" id="mcps1.2.6.1.4"><p id="p1173018176143"><a name="p1173018176143"></a><a name="p1173018176143"></a>路由类型</p>
</th>
<th class="cellrowborder" valign="top" width="52.86%" id="mcps1.2.6.1.5"><p id="p4730817151412"><a name="p4730817151412"></a><a name="p4730817151412"></a>路由说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row1673001716145"><td class="cellrowborder" rowspan="2" valign="top" width="9.67%" headers="mcps1.2.6.1.1 "><p id="p196206320497"><a name="p196206320497"></a><a name="p196206320497"></a>rtb-VPC-A</p>
</td>
<td class="cellrowborder" valign="top" width="14.19%" headers="mcps1.2.6.1.2 "><p id="p4730131711414"><a name="p4730131711414"></a><a name="p4730131711414"></a>10.0.0.139/32</p>
</td>
<td class="cellrowborder" valign="top" width="12.629999999999999%" headers="mcps1.2.6.1.3 "><p id="p107319174141"><a name="p107319174141"></a><a name="p107319174141"></a>Peering-AB</p>
</td>
<td class="cellrowborder" valign="top" width="10.65%" headers="mcps1.2.6.1.4 "><p id="p187314175141"><a name="p187314175141"></a><a name="p187314175141"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" width="52.86%" headers="mcps1.2.6.1.5 "><p id="p18731417101417"><a name="p18731417101417"></a><a name="p18731417101417"></a>在VPC-A的路由表中，添加目的地址为ECS-B01的私有IP地址，下一跳指向Peering-AB的路由。</p>
</td>
</tr>
<tr id="row149401134513"><td class="cellrowborder" valign="top" headers="mcps1.2.6.1.1 "><p id="p69416131952"><a name="p69416131952"></a><a name="p69416131952"></a>10.0.0.71/32</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.2 "><p id="p207291163713"><a name="p207291163713"></a><a name="p207291163713"></a>Peering-AC</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.3 "><p id="p17295165718"><a name="p17295165718"></a><a name="p17295165718"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.4 "><p id="p47291716278"><a name="p47291716278"></a><a name="p47291716278"></a>在VPC-A的路由表中，添加目的地址为ECS-C01的私有IP地址，下一跳指向Peering-AC的路由。</p>
</td>
</tr>
<tr id="row1273111761417"><td class="cellrowborder" valign="top" width="9.67%" headers="mcps1.2.6.1.1 "><p id="p20252183824918"><a name="p20252183824918"></a><a name="p20252183824918"></a>rtb-VPC-B</p>
</td>
<td class="cellrowborder" valign="top" width="14.19%" headers="mcps1.2.6.1.2 "><p id="p682511307816"><a name="p682511307816"></a><a name="p682511307816"></a>172.16.0.111/32</p>
</td>
<td class="cellrowborder" valign="top" width="12.629999999999999%" headers="mcps1.2.6.1.3 "><p id="p177314173149"><a name="p177314173149"></a><a name="p177314173149"></a>Peering-AB</p>
</td>
<td class="cellrowborder" valign="top" width="10.65%" headers="mcps1.2.6.1.4 "><p id="p77311517131411"><a name="p77311517131411"></a><a name="p77311517131411"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" width="52.86%" headers="mcps1.2.6.1.5 "><p id="p6731141731410"><a name="p6731141731410"></a><a name="p6731141731410"></a>在VPC-B的路由表中，添加目的地址为ECS-A01-1的私有IP地址，下一跳指向Peering-AB的路由。</p>
</td>
</tr>
<tr id="row1673291781413"><td class="cellrowborder" valign="top" width="9.67%" headers="mcps1.2.6.1.1 "><p id="p28711645144917"><a name="p28711645144917"></a><a name="p28711645144917"></a>rtb-VPC-C</p>
</td>
<td class="cellrowborder" valign="top" width="14.19%" headers="mcps1.2.6.1.2 "><p id="p1937011998"><a name="p1937011998"></a><a name="p1937011998"></a>172.16.0.218/32</p>
</td>
<td class="cellrowborder" valign="top" width="12.629999999999999%" headers="mcps1.2.6.1.3 "><p id="p1173216170144"><a name="p1173216170144"></a><a name="p1173216170144"></a>Peering-AC</p>
</td>
<td class="cellrowborder" valign="top" width="10.65%" headers="mcps1.2.6.1.4 "><p id="p6732161720148"><a name="p6732161720148"></a><a name="p6732161720148"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" width="52.86%" headers="mcps1.2.6.1.5 "><p id="p207321417151419"><a name="p207321417151419"></a><a name="p207321417151419"></a>在VPC-C的路由表中，添加目的地址为ECS-A01-2的私有IP地址，下一跳指向Peering-AC的路由。</p>
</td>
</tr>
</tbody>
</table>

## 无效的VPC对等连接<a name="section0306616175518"></a>

当VPC网段重叠，且全部子网重叠时，不支持使用对等连接。以网段和子网完全重叠的VPC-A和VPC-B为例，假如在VPC-A和VPC-B之间创建对等连接，那么路由表会由于目的地址重叠而导致流量传输错误。

在rtb-VPC-A路由表中，Local路由和对等连接路由的目的地址重叠，VPC-A往VPC-B的流量，会优先匹配Local路由，流量在VPC-A内部转发，无法送达VPC-B。

**图 6**  VPC网段重叠，且全部子网重叠\(IPv4\)<a name="zh-cn_topic_0000001252180225_fig465519155457"></a>  
![](figures/VPC网段重叠-且全部子网重叠(IPv4).png "VPC网段重叠-且全部子网重叠(IPv4)")

**表 12**  VPC路由表配置说明-VPC网段重叠，且全部子网重叠\(IPv4\)

<a name="zh-cn_topic_0000001252180225_table117301117101418"></a>
<table><thead align="left"><tr id="zh-cn_topic_0000001252180225_row1273011179148"><th class="cellrowborder" valign="top" width="8.55%" id="mcps1.2.6.1.1"><p id="zh-cn_topic_0000001252180225_p1730817201411"><a name="zh-cn_topic_0000001252180225_p1730817201411"></a><a name="zh-cn_topic_0000001252180225_p1730817201411"></a>路由表</p>
</th>
<th class="cellrowborder" valign="top" width="22.7%" id="mcps1.2.6.1.2"><p id="zh-cn_topic_0000001252180225_p3730181711415"><a name="zh-cn_topic_0000001252180225_p3730181711415"></a><a name="zh-cn_topic_0000001252180225_p3730181711415"></a>目的地址</p>
</th>
<th class="cellrowborder" valign="top" width="11.48%" id="mcps1.2.6.1.3"><p id="zh-cn_topic_0000001252180225_p15730141710145"><a name="zh-cn_topic_0000001252180225_p15730141710145"></a><a name="zh-cn_topic_0000001252180225_p15730141710145"></a>下一跳</p>
</th>
<th class="cellrowborder" valign="top" width="9.2%" id="mcps1.2.6.1.4"><p id="zh-cn_topic_0000001252180225_p1173018176143"><a name="zh-cn_topic_0000001252180225_p1173018176143"></a><a name="zh-cn_topic_0000001252180225_p1173018176143"></a>路由类型</p>
</th>
<th class="cellrowborder" valign="top" width="48.07%" id="mcps1.2.6.1.5"><p id="zh-cn_topic_0000001252180225_p4730817151412"><a name="zh-cn_topic_0000001252180225_p4730817151412"></a><a name="zh-cn_topic_0000001252180225_p4730817151412"></a>路由说明</p>
</th>
</tr>
</thead>
<tbody><tr id="zh-cn_topic_0000001252180225_row4730181718141"><td class="cellrowborder" rowspan="3" valign="top" width="8.55%" headers="mcps1.2.6.1.1 "><p id="zh-cn_topic_0000001252180225_p273001761410"><a name="zh-cn_topic_0000001252180225_p273001761410"></a><a name="zh-cn_topic_0000001252180225_p273001761410"></a>rtb-VPC-A</p>
</td>
<td class="cellrowborder" valign="top" width="22.7%" headers="mcps1.2.6.1.2 "><p id="zh-cn_topic_0000001252180225_p973012175147"><a name="zh-cn_topic_0000001252180225_p973012175147"></a><a name="zh-cn_topic_0000001252180225_p973012175147"></a>10.0.0.0/24</p>
</td>
<td class="cellrowborder" valign="top" width="11.48%" headers="mcps1.2.6.1.3 "><p id="zh-cn_topic_0000001252180225_p11730111710149"><a name="zh-cn_topic_0000001252180225_p11730111710149"></a><a name="zh-cn_topic_0000001252180225_p11730111710149"></a>Local</p>
</td>
<td class="cellrowborder" valign="top" width="9.2%" headers="mcps1.2.6.1.4 "><p id="zh-cn_topic_0000001252180225_p67301917201417"><a name="zh-cn_topic_0000001252180225_p67301917201417"></a><a name="zh-cn_topic_0000001252180225_p67301917201417"></a>系统路由</p>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="48.07%" headers="mcps1.2.6.1.5 "><p id="zh-cn_topic_0000001252180225_p673010176141"><a name="zh-cn_topic_0000001252180225_p673010176141"></a><a name="zh-cn_topic_0000001252180225_p673010176141"></a><span id="zh-cn_topic_0000001252180225_text187303172147"><a name="zh-cn_topic_0000001252180225_text187303172147"></a><a name="zh-cn_topic_0000001252180225_text187303172147"></a>Local路由是系统自动添加的，用于VPC内部通信。</span></p>
</td>
</tr>
<tr id="zh-cn_topic_0000001252180225_row72112019153517"><td class="cellrowborder" valign="top" headers="mcps1.2.6.1.1 "><p id="zh-cn_topic_0000001252180225_p32115198355"><a name="zh-cn_topic_0000001252180225_p32115198355"></a><a name="zh-cn_topic_0000001252180225_p32115198355"></a>10.0.1.0/24</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.2 "><p id="zh-cn_topic_0000001252180225_p1816211216366"><a name="zh-cn_topic_0000001252180225_p1816211216366"></a><a name="zh-cn_topic_0000001252180225_p1816211216366"></a>Local</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.3 "><p id="zh-cn_topic_0000001252180225_p1716282173615"><a name="zh-cn_topic_0000001252180225_p1716282173615"></a><a name="zh-cn_topic_0000001252180225_p1716282173615"></a>系统路由</p>
</td>
</tr>
<tr id="zh-cn_topic_0000001252180225_row1673001716145"><td class="cellrowborder" valign="top" headers="mcps1.2.6.1.1 "><p id="zh-cn_topic_0000001252180225_p4730131711414"><a name="zh-cn_topic_0000001252180225_p4730131711414"></a><a name="zh-cn_topic_0000001252180225_p4730131711414"></a>10.0.0.0/16 (VPC-B)</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.2 "><p id="zh-cn_topic_0000001252180225_p107319174141"><a name="zh-cn_topic_0000001252180225_p107319174141"></a><a name="zh-cn_topic_0000001252180225_p107319174141"></a>Peering-AB</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.3 "><p id="zh-cn_topic_0000001252180225_p187314175141"><a name="zh-cn_topic_0000001252180225_p187314175141"></a><a name="zh-cn_topic_0000001252180225_p187314175141"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.4 "><p id="zh-cn_topic_0000001252180225_p18731417101417"><a name="zh-cn_topic_0000001252180225_p18731417101417"></a><a name="zh-cn_topic_0000001252180225_p18731417101417"></a>在VPC-A的路由表中，添加目的地址为VPC-B的网段，下一跳指向Peering-AB的路由。</p>
</td>
</tr>
<tr id="zh-cn_topic_0000001252180225_row18731131719141"><td class="cellrowborder" rowspan="3" valign="top" width="8.55%" headers="mcps1.2.6.1.1 "><p id="zh-cn_topic_0000001252180225_p873171701416"><a name="zh-cn_topic_0000001252180225_p873171701416"></a><a name="zh-cn_topic_0000001252180225_p873171701416"></a>rtb-VPC-B</p>
</td>
<td class="cellrowborder" valign="top" width="22.7%" headers="mcps1.2.6.1.2 "><p id="zh-cn_topic_0000001252180225_p147311217191410"><a name="zh-cn_topic_0000001252180225_p147311217191410"></a><a name="zh-cn_topic_0000001252180225_p147311217191410"></a>10.0.0.0/24</p>
</td>
<td class="cellrowborder" valign="top" width="11.48%" headers="mcps1.2.6.1.3 "><p id="zh-cn_topic_0000001252180225_p1273112179145"><a name="zh-cn_topic_0000001252180225_p1273112179145"></a><a name="zh-cn_topic_0000001252180225_p1273112179145"></a>Local</p>
</td>
<td class="cellrowborder" valign="top" width="9.2%" headers="mcps1.2.6.1.4 "><p id="zh-cn_topic_0000001252180225_p97311617101412"><a name="zh-cn_topic_0000001252180225_p97311617101412"></a><a name="zh-cn_topic_0000001252180225_p97311617101412"></a>系统路由</p>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="48.07%" headers="mcps1.2.6.1.5 "><p id="zh-cn_topic_0000001252180225_p16731617101420"><a name="zh-cn_topic_0000001252180225_p16731617101420"></a><a name="zh-cn_topic_0000001252180225_p16731617101420"></a><span id="zh-cn_topic_0000001252180225_text20731131714142"><a name="zh-cn_topic_0000001252180225_text20731131714142"></a><a name="zh-cn_topic_0000001252180225_text20731131714142"></a>Local路由是系统自动添加的，用于VPC内部通信。</span></p>
</td>
</tr>
<tr id="zh-cn_topic_0000001252180225_row91271631123714"><td class="cellrowborder" valign="top" headers="mcps1.2.6.1.1 "><p id="zh-cn_topic_0000001252180225_p188077366379"><a name="zh-cn_topic_0000001252180225_p188077366379"></a><a name="zh-cn_topic_0000001252180225_p188077366379"></a>10.0.1.0/24</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.2 "><p id="zh-cn_topic_0000001252180225_p48071736153715"><a name="zh-cn_topic_0000001252180225_p48071736153715"></a><a name="zh-cn_topic_0000001252180225_p48071736153715"></a>Local</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.3 "><p id="zh-cn_topic_0000001252180225_p380773643712"><a name="zh-cn_topic_0000001252180225_p380773643712"></a><a name="zh-cn_topic_0000001252180225_p380773643712"></a>系统路由</p>
</td>
</tr>
<tr id="zh-cn_topic_0000001252180225_row1273111761417"><td class="cellrowborder" valign="top" headers="mcps1.2.6.1.1 "><p id="zh-cn_topic_0000001252180225_p682511307816"><a name="zh-cn_topic_0000001252180225_p682511307816"></a><a name="zh-cn_topic_0000001252180225_p682511307816"></a>10.0.0.0/16 (VPC-A)</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.2 "><p id="zh-cn_topic_0000001252180225_p177314173149"><a name="zh-cn_topic_0000001252180225_p177314173149"></a><a name="zh-cn_topic_0000001252180225_p177314173149"></a>Peering-AB</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.3 "><p id="zh-cn_topic_0000001252180225_p77311517131411"><a name="zh-cn_topic_0000001252180225_p77311517131411"></a><a name="zh-cn_topic_0000001252180225_p77311517131411"></a>自定义</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.6.1.4 "><p id="zh-cn_topic_0000001252180225_p6731141731410"><a name="zh-cn_topic_0000001252180225_p6731141731410"></a><a name="zh-cn_topic_0000001252180225_p6731141731410"></a>在VPC-B的路由表中，添加目的地址为VPC-A的网段，下一跳指向Peering-AB的路由。</p>
</td>
</tr>
</tbody>
</table>

