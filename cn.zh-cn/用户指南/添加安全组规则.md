# 添加安全组规则<a name="zh-cn_topic_0030969470"></a>

## 操作场景<a name="s480ea51d8f2542828c323c6c8eb50861"></a>

安全组创建后，您可以在安全组中设置出方向、入方向规则，这些规则会对安全组内部的云服务器出入方向网络流量进行访问控制，当云服务器加入该安全组后，即受到这些访问规则的保护。

-   入方向：指从外部访问安全组规则下的弹性云服务器。
-   出方向：指安全组规则下的弹性云服务器访问安全组外的实例。

默认安全组规则请参见[默认安全组和规则](默认安全组和规则.md)。常用的安全组规则配置示例请参见[安全组配置示例](安全组配置示例.md)。

## 前提条件<a name="section976341564015"></a>

-   已有创建的安全组。创建安全组请参见[创建安全组](创建安全组.md)。
-   已规划好云服务器等实例需要允许或禁止哪些公网或内网的访问。更多有关安全组规则设置的应用示例，请参见[安全组配置示例](安全组配置示例.md)。

## 约束与限制<a name="section15518033133415"></a>

安全组规则目前仅在“华东-上海一”、“华南-广州”、“西南-贵阳一”、“华北-北京四”、“中国-香港”、“亚太-新加坡”支持拒绝策略、不连续端口号、配置优先级。

## 操作步骤<a name="section2999103814551"></a>

1.  登录管理控制台。
2.  在管理控制台左上角单击![](figures/icon-region.png)，选择区域和项目。
3.  在系统首页，选择“网络 \> 虚拟私有云”。
4.  在左侧导航树选择“访问控制 \> 安全组”。
5.  在安全组界面，单击操作列的“配置规则”，进入安全组详情界面。
6.  在入方向规则页签，单击“添加规则”，添加入方向规则。

    单击“+”可以依次增加多条入方向规则。

    **图 1**  添加入方向规则<a name="fig963631116217"></a>  
    ![](figures/添加入方向规则.png "添加入方向规则")

    **表 1**  入方向参数说明

    <a name="table111445216564"></a>
    <table><thead align="left"><tr id="row1811565205613"><th class="cellrowborder" valign="top" width="12.7%" id="mcps1.2.4.1.1"><p id="p51151452125620"><a name="p51151452125620"></a><a name="p51151452125620"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="69.3%" id="mcps1.2.4.1.2"><p id="p5115552175613"><a name="p5115552175613"></a><a name="p5115552175613"></a>说明</p>
    </th>
    <th class="cellrowborder" valign="top" width="18%" id="mcps1.2.4.1.3"><p id="p711565219563"><a name="p711565219563"></a><a name="p711565219563"></a>取值样例</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row194894568113"><td class="cellrowborder" valign="top" width="12.7%" headers="mcps1.2.4.1.1 "><p id="p7490135617111"><a name="p7490135617111"></a><a name="p7490135617111"></a>优先级</p>
    </td>
    <td class="cellrowborder" valign="top" width="69.3%" headers="mcps1.2.4.1.2 "><p id="p39329432150"><a name="p39329432150"></a><a name="p39329432150"></a>安全组规则优先级。</p>
    <p id="p1395210101245"><a name="p1395210101245"></a><a name="p1395210101245"></a>目前仅“华东-上海一”、“华南-广州”、“西南-贵阳一”、“华北-北京四”、“<span id="text721113471093"><a name="text721113471093"></a><a name="text721113471093"></a>中国-香港</span>”、“亚太-新加坡”支持。</p>
    <p id="p94904561715"><a name="p94904561715"></a><a name="p94904561715"></a>优先级可选范围为1-100，默认值为1，即最高优先级。优先级数字越小，规则优先级级别越高。</p>
    </td>
    <td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.4.1.3 "><p id="p849010564113"><a name="p849010564113"></a><a name="p849010564113"></a>1</p>
    </td>
    </tr>
    <tr id="row16943134010710"><td class="cellrowborder" valign="top" width="12.7%" headers="mcps1.2.4.1.1 "><p id="p1394314020715"><a name="p1394314020715"></a><a name="p1394314020715"></a>策略</p>
    </td>
    <td class="cellrowborder" valign="top" width="69.3%" headers="mcps1.2.4.1.2 "><p id="p976984710154"><a name="p976984710154"></a><a name="p976984710154"></a>安全组规则策略。</p>
    <p id="p1194318408718"><a name="p1194318408718"></a><a name="p1194318408718"></a>目前仅“华东-上海一”、“华南-广州”、“西南-贵阳一”、“华北-北京四”、“<span id="zh-cn_topic_0030969470_text721113471093"><a name="zh-cn_topic_0030969470_text721113471093"></a><a name="zh-cn_topic_0030969470_text721113471093"></a>中国-香港</span>”、“亚太-新加坡”支持。</p>
    <p id="p6192322932"><a name="p6192322932"></a><a name="p6192322932"></a>优先级相同的情况下，拒绝策略优先于允许策略。</p>
    </td>
    <td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.4.1.3 "><p id="p149431640575"><a name="p149431640575"></a><a name="p149431640575"></a>允许</p>
    </td>
    </tr>
    <tr id="row9115105219562"><td class="cellrowborder" rowspan="2" valign="top" width="12.7%" headers="mcps1.2.4.1.1 "><p id="p151157525565"><a name="p151157525565"></a><a name="p151157525565"></a>协议端口</p>
    <p id="p3510193211510"><a name="p3510193211510"></a><a name="p3510193211510"></a></p>
    </td>
    <td class="cellrowborder" valign="top" width="69.3%" headers="mcps1.2.4.1.2 "><p id="p1711515526562"><a name="p1711515526562"></a><a name="p1711515526562"></a>网络协议。目前支持“All”、“TCP”、“UDP”、“ICMP”和“GRE”等协议。</p>
    </td>
    <td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.4.1.3 "><p id="p193908441914"><a name="p193908441914"></a><a name="p193908441914"></a>TCP</p>
    </td>
    </tr>
    <tr id="row6510532121511"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p4115175245613"><a name="p4115175245613"></a><a name="p4115175245613"></a>端口：允许远端地址访问弹性云服务器指定端口，取值范围为：1～65535。常用端口请参见<a href="https://support.huaweicloud.com/usermanual-vpc/SecurityGroup_0002.html" target="_blank" rel="noopener noreferrer">弹性云服务器常用端口</a>。</p>
    <div class="p" id="p099117545530"><a name="p099117545530"></a><a name="p099117545530"></a>端口填写包括以下形式：<a name="ul299114542535"></a><a name="ul299114542535"></a><ul id="ul299114542535"><li>单个端口：例如22</li><li>连续端口：例如22-30</li><li>多个端口：例如22,23-30，一次最多支持20个不连续端口组， 端口组之间不能重复。<p id="p2123191761720"><a name="p2123191761720"></a><a name="p2123191761720"></a>目前仅“华东-上海一”、“华南-广州”、“西南-贵阳一”、“华北-北京四”、“<span id="zh-cn_topic_0030969470_text721113471093_1"><a name="zh-cn_topic_0030969470_text721113471093_1"></a><a name="zh-cn_topic_0030969470_text721113471093_1"></a>中国-香港</span>”、“亚太-新加坡”支持。</p>
    </li><li>全部端口：为空或1-65535</li></ul>
    </div>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="p1551023251511"><a name="p1551023251511"></a><a name="p1551023251511"></a>22或22-30或20,22-30</p>
    </td>
    </tr>
    <tr id="row1726912412166"><td class="cellrowborder" valign="top" width="12.7%" headers="mcps1.2.4.1.1 "><p id="p1826920421620"><a name="p1826920421620"></a><a name="p1826920421620"></a>类型</p>
    </td>
    <td class="cellrowborder" valign="top" width="69.3%" headers="mcps1.2.4.1.2 "><div class="p" id="p1426910441613"><a name="p1426910441613"></a><a name="p1426910441613"></a>IP地址类型。开通IPv6功能后可见。<a name="ul15119151171711"></a><a name="ul15119151171711"></a><ul id="ul15119151171711"><li>IPv4</li><li>IPv6</li></ul>
    </div>
    </td>
    <td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.4.1.3 "><p id="p848952751718"><a name="p848952751718"></a><a name="p848952751718"></a>IPv4</p>
    </td>
    </tr>
    <tr id="row511615528561"><td class="cellrowborder" valign="top" width="12.7%" headers="mcps1.2.4.1.1 "><p id="p86899991813"><a name="p86899991813"></a><a name="p86899991813"></a>源地址</p>
    </td>
    <td class="cellrowborder" valign="top" width="69.3%" headers="mcps1.2.4.1.2 "><div class="p" id="p18116175212564"><a name="p18116175212564"></a><a name="p18116175212564"></a>源地址：可以是IP地址、安全组、IP地址组。用于放通来自IP地址或另一安全组内的实例的访问。例如：<a name="ul12116352195619"></a><a name="ul12116352195619"></a><ul id="ul12116352195619"><li>单个IP地址：192.168.10.10/32（IPv4地址）；2002:50::44/127（IPv6地址）</li><li>IP地址段：192.168.1.0/24（IPv4地址段）；2407:c080:802:469::/64（IPv6地址段）</li><li>所有IP地址：0.0.0.0/0（IPv4任意地址）；::/0（IPv6任意地址）</li><li>安全组：sg-abc</li><li>IP地址组：ipGroup-test</li></ul>
    </div>
    <p id="p1252129194014"><a name="p1252129194014"></a><a name="p1252129194014"></a>若源地址为安全组，则选定安全组内的云服务器都遵从当前所创建的规则。</p>
    <p id="p19481656542"><a name="p19481656542"></a><a name="p19481656542"></a>更多IP地址组信息，请参见<a href="https://support.huaweicloud.com/usermanual-vpc/vpc_IPAddressGroup_0002.html" target="_blank" rel="noopener noreferrer">IP地址组</a>。</p>
    </td>
    <td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.4.1.3 "><p id="p611613524569"><a name="p611613524569"></a><a name="p611613524569"></a>0.0.0.0/0</p>
    </td>
    </tr>
    <tr id="row111615525565"><td class="cellrowborder" valign="top" width="12.7%" headers="mcps1.2.4.1.1 "><p id="p1711655217565"><a name="p1711655217565"></a><a name="p1711655217565"></a>描述</p>
    </td>
    <td class="cellrowborder" valign="top" width="69.3%" headers="mcps1.2.4.1.2 "><p id="p1211611525564"><a name="p1211611525564"></a><a name="p1211611525564"></a>安全组规则的描述信息，非必填项。</p>
    <p id="p6116175225613"><a name="p6116175225613"></a><a name="p6116175225613"></a>描述信息内容不能超过255个字符，且不能包含“&lt;”和“&gt;”。</p>
    </td>
    <td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.4.1.3 "><p id="p3116115216568"><a name="p3116115216568"></a><a name="p3116115216568"></a>-</p>
    </td>
    </tr>
    </tbody>
    </table>

7.  在出方向规则页签，单击“添加规则”，添加出方向规则。

    单击“+”可以依次增加多条出方向规则。

    **图 2**  添加出方向规则<a name="fig4319183518281"></a>  
    ![](figures/添加出方向规则.png "添加出方向规则")

    **表 2**  出方向参数说明

    <a name="table0614192319232"></a>
    <table><thead align="left"><tr id="row19614623202312"><th class="cellrowborder" valign="top" width="12.6%" id="mcps1.2.4.1.1"><p id="p361592319230"><a name="p361592319230"></a><a name="p361592319230"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="69.39999999999999%" id="mcps1.2.4.1.2"><p id="p1961514231232"><a name="p1961514231232"></a><a name="p1961514231232"></a>说明</p>
    </th>
    <th class="cellrowborder" valign="top" width="18%" id="mcps1.2.4.1.3"><p id="p1061552372311"><a name="p1061552372311"></a><a name="p1061552372311"></a>取值样例</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row176159232238"><td class="cellrowborder" valign="top" width="12.6%" headers="mcps1.2.4.1.1 "><p id="p461592313236"><a name="p461592313236"></a><a name="p461592313236"></a>优先级</p>
    </td>
    <td class="cellrowborder" valign="top" width="69.39999999999999%" headers="mcps1.2.4.1.2 "><p id="p050041314189"><a name="p050041314189"></a><a name="p050041314189"></a>安全组规则优先级。</p>
    <p id="p103245304187"><a name="p103245304187"></a><a name="p103245304187"></a>目前仅“华东-上海一”、“华南-广州”、“西南-贵阳一”、“华北-北京四”、“<span id="zh-cn_topic_0030969470_text721113471093_2"><a name="zh-cn_topic_0030969470_text721113471093_2"></a><a name="zh-cn_topic_0030969470_text721113471093_2"></a>中国-香港</span>”、“亚太-新加坡”支持。</p>
    <p id="p206155235231"><a name="p206155235231"></a><a name="p206155235231"></a>优先级可选范围为1-100，默认值为1，即最高优先级。优先级数字越小，规则优先级级别越高。</p>
    </td>
    <td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.4.1.3 "><p id="p1361515237237"><a name="p1361515237237"></a><a name="p1361515237237"></a>1</p>
    </td>
    </tr>
    <tr id="row96151423132318"><td class="cellrowborder" valign="top" width="12.6%" headers="mcps1.2.4.1.1 "><p id="p186151423182317"><a name="p186151423182317"></a><a name="p186151423182317"></a>策略</p>
    </td>
    <td class="cellrowborder" valign="top" width="69.39999999999999%" headers="mcps1.2.4.1.2 "><p id="p183671333191819"><a name="p183671333191819"></a><a name="p183671333191819"></a>安全组规则策略。</p>
    <p id="p11859651112111"><a name="p11859651112111"></a><a name="p11859651112111"></a>目前仅“华东-上海一”、“华南-广州”、“西南-贵阳一”、“华北-北京四”、“<span id="zh-cn_topic_0030969470_text721113471093_3"><a name="zh-cn_topic_0030969470_text721113471093_3"></a><a name="zh-cn_topic_0030969470_text721113471093_3"></a>中国-香港</span>”、“亚太-新加坡”支持。</p>
    <a name="ul372416318212"></a><a name="ul372416318212"></a><ul id="ul372416318212"><li>允许：允许安全组内的服务器按照该出方向规则进行出网访问</li><li>拒绝：拒绝安全组内的服务器按照该出方向规则进行出网访问。</li></ul>
    <p id="p0306172810410"><a name="p0306172810410"></a><a name="p0306172810410"></a>优先级相同的情况下，拒绝策略优先于允许策略。</p>
    </td>
    <td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.4.1.3 "><p id="p196161230233"><a name="p196161230233"></a><a name="p196161230233"></a>允许</p>
    </td>
    </tr>
    <tr id="row76161523132311"><td class="cellrowborder" rowspan="2" valign="top" width="12.6%" headers="mcps1.2.4.1.1 "><p id="p1761652313238"><a name="p1761652313238"></a><a name="p1761652313238"></a>协议端口</p>
    <p id="p4616323182310"><a name="p4616323182310"></a><a name="p4616323182310"></a></p>
    </td>
    <td class="cellrowborder" valign="top" width="69.39999999999999%" headers="mcps1.2.4.1.2 "><p id="p1461632352313"><a name="p1461632352313"></a><a name="p1461632352313"></a>网络协议。目前支持“All”、“TCP”、“UDP”、“ICMP”和“GRE”等协议。</p>
    </td>
    <td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.4.1.3 "><p id="p157082238193"><a name="p157082238193"></a><a name="p157082238193"></a>TCP</p>
    </td>
    </tr>
    <tr id="row5616723112313"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p761613239235"><a name="p761613239235"></a><a name="p761613239235"></a>端口：允许弹性云服务器访问远端地址的指定端口，取值范围为：1～65535。常用端口请参见<a href="https://support.huaweicloud.com/usermanual-vpc/SecurityGroup_0002.html" target="_blank" rel="noopener noreferrer">弹性云服务器常用端口</a>。</p>
    <div class="p" id="p13146251369"><a name="p13146251369"></a><a name="p13146251369"></a>端口填写包括以下形式：<a name="zh-cn_topic_0030969470_ul299114542535"></a><a name="zh-cn_topic_0030969470_ul299114542535"></a><ul id="zh-cn_topic_0030969470_ul299114542535"><li>单个端口：例如22</li><li>连续端口：例如22-30</li><li>多个端口：例如22,23-30，一次最多支持20个不连续端口组， 端口组之间不能重复。<p id="zh-cn_topic_0030969470_p2123191761720"><a name="zh-cn_topic_0030969470_p2123191761720"></a><a name="zh-cn_topic_0030969470_p2123191761720"></a>目前仅“华东-上海一”、“华南-广州”、“西南-贵阳一”、“华北-北京四”、“<span id="zh-cn_topic_0030969470_zh-cn_topic_0030969470_text721113471093"><a name="zh-cn_topic_0030969470_zh-cn_topic_0030969470_text721113471093"></a><a name="zh-cn_topic_0030969470_zh-cn_topic_0030969470_text721113471093"></a>中国-香港</span>”、“亚太-新加坡”支持。</p>
    </li><li>全部端口：为空或1-65535</li></ul>
    </div>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="p12616182311235"><a name="p12616182311235"></a><a name="p12616182311235"></a>22或22-30或20,22-30</p>
    </td>
    </tr>
    <tr id="row86161423202313"><td class="cellrowborder" valign="top" width="12.6%" headers="mcps1.2.4.1.1 "><p id="p12616122316237"><a name="p12616122316237"></a><a name="p12616122316237"></a>类型</p>
    </td>
    <td class="cellrowborder" valign="top" width="69.39999999999999%" headers="mcps1.2.4.1.2 "><div class="p" id="p1261622319232"><a name="p1261622319232"></a><a name="p1261622319232"></a>IP地址类型。开通IPv6功能后可见。<a name="ul3617202310239"></a><a name="ul3617202310239"></a><ul id="ul3617202310239"><li>IPv4</li><li>IPv6</li></ul>
    </div>
    </td>
    <td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.4.1.3 "><p id="p186177239234"><a name="p186177239234"></a><a name="p186177239234"></a>IPv4</p>
    </td>
    </tr>
    <tr id="row2617112315232"><td class="cellrowborder" valign="top" width="12.6%" headers="mcps1.2.4.1.1 "><p id="p15617623172315"><a name="p15617623172315"></a><a name="p15617623172315"></a>目的地址</p>
    </td>
    <td class="cellrowborder" valign="top" width="69.39999999999999%" headers="mcps1.2.4.1.2 "><div class="p" id="p196171823152315"><a name="p196171823152315"></a><a name="p196171823152315"></a>目的地址：可以是IP地址、安全组、IP地址组。允许访问目的IP地址或另一安全组内的实例。例如：<a name="ul16177237233"></a><a name="ul16177237233"></a><ul id="ul16177237233"><li>单个IP地址：192.168.10.10/32（IPv4地址）；2002:50::44/127（IPv6地址）</li><li>IP地址段：192.168.1.0/24（IPv4地址段）；2407:c080:802:469::/64（IPv6地址段）</li><li>所有IP地址：0.0.0.0/0（IPv4任意地址）；::/0（IPv6任意地址）</li><li>安全组：sg-abc</li><li>IP地址组：ipGroup-test</li></ul>
    </div>
    <p id="p8286143314117"><a name="p8286143314117"></a><a name="p8286143314117"></a>更多IP地址组信息，请参见<a href="https://support.huaweicloud.com/usermanual-vpc/vpc_IPAddressGroup_0002.html" target="_blank" rel="noopener noreferrer">IP地址组</a>。</p>
    </td>
    <td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.4.1.3 "><p id="p4617102352310"><a name="p4617102352310"></a><a name="p4617102352310"></a>0.0.0.0/0</p>
    </td>
    </tr>
    <tr id="row196181723162317"><td class="cellrowborder" valign="top" width="12.6%" headers="mcps1.2.4.1.1 "><p id="p2061811237237"><a name="p2061811237237"></a><a name="p2061811237237"></a>描述</p>
    </td>
    <td class="cellrowborder" valign="top" width="69.39999999999999%" headers="mcps1.2.4.1.2 "><p id="p0618182392312"><a name="p0618182392312"></a><a name="p0618182392312"></a>安全组规则的描述信息，非必填项。</p>
    <p id="p16618823192317"><a name="p16618823192317"></a><a name="p16618823192317"></a>描述信息内容不能超过255个字符，且不能包含“&lt;”和“&gt;”。</p>
    </td>
    <td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.4.1.3 "><p id="p20618623202311"><a name="p20618623202311"></a><a name="p20618623202311"></a>-</p>
    </td>
    </tr>
    </tbody>
    </table>

8.  单击“确定”。

## 结果验证<a name="section727012251453"></a>

安全组规则配置完成后，我们需要验证对应的规则是否生效。假设您在弹性云服务器上部署了网站，希望用户能通过TCP（80端口）访问到您的网站，您添加了一条入方向规则，如[表3](#table30323767195135)所示。

**表 3**  安全组规则

<a name="table30323767195135"></a>
<table><thead align="left"><tr id="row15770184195135"><th class="cellrowborder" valign="top" width="14.821482148214821%" id="mcps1.2.5.1.1"><p id="p53423553195135"><a name="p53423553195135"></a><a name="p53423553195135"></a>方向</p>
</th>
<th class="cellrowborder" valign="top" width="25.962596259625965%" id="mcps1.2.5.1.2"><p id="p2316559195135"><a name="p2316559195135"></a><a name="p2316559195135"></a>协议/应用</p>
</th>
<th class="cellrowborder" valign="top" width="31.203120312031203%" id="mcps1.2.5.1.3"><p id="p32340552195135"><a name="p32340552195135"></a><a name="p32340552195135"></a>端口</p>
</th>
<th class="cellrowborder" valign="top" width="28.012801280128013%" id="mcps1.2.5.1.4"><p id="p2339084195135"><a name="p2339084195135"></a><a name="p2339084195135"></a>源地址</p>
</th>
</tr>
</thead>
<tbody><tr id="row55248116195135"><td class="cellrowborder" valign="top" width="14.821482148214821%" headers="mcps1.2.5.1.1 "><p id="p27918930195135"><a name="p27918930195135"></a><a name="p27918930195135"></a>入方向</p>
</td>
<td class="cellrowborder" valign="top" width="25.962596259625965%" headers="mcps1.2.5.1.2 "><p id="p45912425195135"><a name="p45912425195135"></a><a name="p45912425195135"></a>TCP</p>
</td>
<td class="cellrowborder" valign="top" width="31.203120312031203%" headers="mcps1.2.5.1.3 "><p id="p46840856195135"><a name="p46840856195135"></a><a name="p46840856195135"></a>80</p>
</td>
<td class="cellrowborder" valign="top" width="28.012801280128013%" headers="mcps1.2.5.1.4 "><p id="p36012962195135"><a name="p36012962195135"></a><a name="p36012962195135"></a>0.0.0.0/0</p>
</td>
</tr>
</tbody>
</table>

**Linux弹性云服务器**

Linux弹性云服务器上验证该安全组规则是否生效的步骤如下所示。

1.  登录弹性云服务器。
2.  运行如下命令查看TCP 80端口是否被监听。

    ```
    netstat -an | grep 80
    ```

    如果返回结果如[图3](#fig783561113312)所示，说明TCP 80端口已开通。

    **图 3**  Linux TCP 80端口验证结果<a name="fig783561113312"></a>  
    ![](figures/Linux-TCP-80端口验证结果.png "Linux-TCP-80端口验证结果")

3.  在浏览器地址栏里输入“http://弹性云服务器的弹性公网IP地址”。

    如果访问成功，说明安全组规则已经生效。


**Windows**弹性云服务器

Windows弹性云服务器上验证该安全组规则是否生效的步骤如下所示。

1.  登录弹性云服务器。
2.  选择“开始 \> 附件 \> 命令提示符”。
3.  运行如下命令查看TCP 80端口是否被监听。

    ```
    netstat -an | findstr 80
    ```

    如果返回结果如[图4](#fig937451791814)所示，说明TCP 80端口已开通。

    **图 4**  Windows TCP 80端口验证结果<a name="fig937451791814"></a>  
    ![](figures/Windows-TCP-80端口验证结果.png "Windows-TCP-80端口验证结果")

4.  在浏览器地址栏里输入“http://弹性云服务器的弹性公网IP地址”。

    如果访问成功，说明安全组规则已经生效。


## 相关操作<a name="section1080061174720"></a>

**一键放通**

一键放通功能适用于无需设置ICMP协议规则，并通过22，3389，ICMP，80，443，20，21端口便能完成操作的场景。

**图 5**  一键放通<a name="fig17023720359"></a>  
![](figures/一键放通.png "一键放通")

**安全组规则相关常见问题**

-   [安全组规则除描述字段外，其他字段均相同，是否算作相同的安全组规则？](https://support.huaweicloud.com/vpc_faq/faq_security_0004.html)
-   [多通道协议相关的安全组配置方式是什么？](https://support.huaweicloud.com/vpc_faq/vpc_faq_0059.html)

