# 创建子网<a name="vpc_subnet01_0001"></a>

## 功能介绍<a name="section18389930"></a>

创建子网。

## URI<a name="section31291646"></a>

POST /v1/\{project\_id\}/subnets

参数说明请参见[表1](#table21421675)。

**表 1**  参数说明

<a name="table21421675"></a>
<table><thead align="left"><tr id="row9119245"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p461342"><a name="p461342"></a><a name="p461342"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p37368736"><a name="p37368736"></a><a name="p37368736"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p6968762"><a name="p6968762"></a><a name="p6968762"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row27598869"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p20915929"><a name="p20915929"></a><a name="p20915929"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p16468652"><a name="p16468652"></a><a name="p16468652"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p10487112"><a name="p10487112"></a><a name="p10487112"></a>项目ID，获取项目ID请参见<a href="获取项目ID.md">获取项目ID</a>。</p>
</td>
</tr>
</tbody>
</table>

## 请求消息<a name="section13189358"></a>

-   请求参数

    **表 2**  请求参数

    <a name="table435429715639"></a>
    <table><thead align="left"><tr id="row3955678815639"><th class="cellrowborder" valign="top" width="15.409999999999998%" id="mcps1.2.5.1.1"><p id="p4998329315639"><a name="p4998329315639"></a><a name="p4998329315639"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="15.98%" id="mcps1.2.5.1.2"><p id="p2211493815639"><a name="p2211493815639"></a><a name="p2211493815639"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="19.17%" id="mcps1.2.5.1.3"><p id="p4647957215639"><a name="p4647957215639"></a><a name="p4647957215639"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="49.44%" id="mcps1.2.5.1.4"><p id="p674897815639"><a name="p674897815639"></a><a name="p674897815639"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row979634915639"><td class="cellrowborder" valign="top" width="15.409999999999998%" headers="mcps1.2.5.1.1 "><p id="p5530678015639"><a name="p5530678015639"></a><a name="p5530678015639"></a>subnet</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.98%" headers="mcps1.2.5.1.2 "><p id="p5066418415639"><a name="p5066418415639"></a><a name="p5066418415639"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="19.17%" headers="mcps1.2.5.1.3 "><p id="p1015820015639"><a name="p1015820015639"></a><a name="p1015820015639"></a>Object</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.44%" headers="mcps1.2.5.1.4 "><p id="p2335287515639"><a name="p2335287515639"></a><a name="p2335287515639"></a><a href="#table45596481">subnet对象</a></p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 3**  subnet对象

    <a name="table45596481"></a>
    <table><thead align="left"><tr id="row36936550"><th class="cellrowborder" valign="top" width="22.08%" id="mcps1.2.5.1.1"><p id="p39070558"><a name="p39070558"></a><a name="p39070558"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="15.920000000000002%" id="mcps1.2.5.1.2"><p id="p10598606"><a name="p10598606"></a><a name="p10598606"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="16%" id="mcps1.2.5.1.3"><p id="p795223417488"><a name="p795223417488"></a><a name="p795223417488"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="46%" id="mcps1.2.5.1.4"><p id="p53180767"><a name="p53180767"></a><a name="p53180767"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row12674872"><td class="cellrowborder" valign="top" width="22.08%" headers="mcps1.2.5.1.1 "><p id="p20031746"><a name="p20031746"></a><a name="p20031746"></a>name</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.920000000000002%" headers="mcps1.2.5.1.2 "><p id="p11958757"><a name="p11958757"></a><a name="p11958757"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.3 "><p id="p190787317482"><a name="p190787317482"></a><a name="p190787317482"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="46%" headers="mcps1.2.5.1.4 "><a name="ul16769054204218"></a><a name="ul16769054204218"></a><ul id="ul16769054204218"><li>功能说明：子网名称</li><li>取值范围：1-64个字符，支持数字、字母、中文、_(下划线)、-（中划线）、.（点）</li></ul>
    </td>
    </tr>
    <tr id="row163965221710"><td class="cellrowborder" valign="top" width="22.08%" headers="mcps1.2.5.1.1 "><p id="p1237219541173"><a name="p1237219541173"></a><a name="p1237219541173"></a>description</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.920000000000002%" headers="mcps1.2.5.1.2 "><p id="p1372154161713"><a name="p1372154161713"></a><a name="p1372154161713"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.3 "><p id="p837295491716"><a name="p837295491716"></a><a name="p837295491716"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="46%" headers="mcps1.2.5.1.4 "><a name="ul237215542179"></a><a name="ul237215542179"></a><ul id="ul237215542179"><li>功能说明：子网描述</li><li>取值范围：0-255个字符，不能包含“&lt;”和“&gt;”。</li></ul>
    </td>
    </tr>
    <tr id="row33189039"><td class="cellrowborder" valign="top" width="22.08%" headers="mcps1.2.5.1.1 "><p id="p3957675"><a name="p3957675"></a><a name="p3957675"></a>cidr</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.920000000000002%" headers="mcps1.2.5.1.2 "><p id="p52136226"><a name="p52136226"></a><a name="p52136226"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.3 "><p id="p2032001117482"><a name="p2032001117482"></a><a name="p2032001117482"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="46%" headers="mcps1.2.5.1.4 "><a name="ul4678105864210"></a><a name="ul4678105864210"></a><ul id="ul4678105864210"><li>功能说明：子网的网段</li><li>取值范围：必须在vpc对应cidr范围内</li><li>约束：必须是cidr格式。掩码长度不能大于28</li></ul>
    </td>
    </tr>
    <tr id="row24692740"><td class="cellrowborder" valign="top" width="22.08%" headers="mcps1.2.5.1.1 "><p id="p53954942"><a name="p53954942"></a><a name="p53954942"></a>gateway_ip</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.920000000000002%" headers="mcps1.2.5.1.2 "><p id="p8274172"><a name="p8274172"></a><a name="p8274172"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.3 "><p id="p3530821417482"><a name="p3530821417482"></a><a name="p3530821417482"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="46%" headers="mcps1.2.5.1.4 "><a name="ul1561512264319"></a><a name="ul1561512264319"></a><ul id="ul1561512264319"><li>功能说明：子网的网关</li><li>取值范围：子网网段中的IP地址</li><li>约束：必须是ip格式</li></ul>
    </td>
    </tr>
    <tr id="row51681624151419"><td class="cellrowborder" valign="top" width="22.08%" headers="mcps1.2.5.1.1 "><p id="p2064323121413"><a name="p2064323121413"></a><a name="p2064323121413"></a>ipv6_enable</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.920000000000002%" headers="mcps1.2.5.1.2 "><p id="p14643153110149"><a name="p14643153110149"></a><a name="p14643153110149"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.3 "><p id="p14643113121416"><a name="p14643113121416"></a><a name="p14643113121416"></a>Boolean</p>
    </td>
    <td class="cellrowborder" valign="top" width="46%" headers="mcps1.2.5.1.4 "><a name="ul1638111712169"></a><a name="ul1638111712169"></a><ul id="ul1638111712169"><li>功能说明：是否创建cidr_v6</li><li>取值范围：true（开启），false（关闭）</li><li>约束：不填时默认为false<div class="note" id="note19788048183915"><a name="note19788048183915"></a><a name="note19788048183915"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p37897488391"><a name="p37897488391"></a><a name="p37897488391"></a>该参数目前仅在“华北-北京四”区域开放，且申请IPv6公测后才可设置。</p>
    </div></div>
    </li></ul>
    </td>
    </tr>
    <tr id="row60429346"><td class="cellrowborder" valign="top" width="22.08%" headers="mcps1.2.5.1.1 "><p id="p62938818"><a name="p62938818"></a><a name="p62938818"></a>dhcp_enable</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.920000000000002%" headers="mcps1.2.5.1.2 "><p id="p64879470"><a name="p64879470"></a><a name="p64879470"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.3 "><p id="p4139309817482"><a name="p4139309817482"></a><a name="p4139309817482"></a>Boolean</p>
    </td>
    <td class="cellrowborder" valign="top" width="46%" headers="mcps1.2.5.1.4 "><a name="ul18877710204319"></a><a name="ul18877710204319"></a><ul id="ul18877710204319"><li>功能说明：子网是否开启dhcp功能</li><li>取值范围：true（开启），false（关闭）</li><li>约束：不填时默认为true。当设置为false时，会导致新创建的ECS无法获取IP地址，Cloud-init无法注入账号密码，请谨慎操作。</li></ul>
    </td>
    </tr>
    <tr id="row10232270"><td class="cellrowborder" valign="top" width="22.08%" headers="mcps1.2.5.1.1 "><p id="p23507505"><a name="p23507505"></a><a name="p23507505"></a>primary_dns</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.920000000000002%" headers="mcps1.2.5.1.2 "><p id="p25059790"><a name="p25059790"></a><a name="p25059790"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.3 "><p id="p6450660517482"><a name="p6450660517482"></a><a name="p6450660517482"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="46%" headers="mcps1.2.5.1.4 "><a name="ul12206161414435"></a><a name="ul12206161414435"></a><ul id="ul12206161414435"><li>功能说明：子网dns服务器地址1</li><li>约束：ip格式，不支持IPv6地址。</li></ul>
    <p id="p2500647202613"><a name="p2500647202613"></a><a name="p2500647202613"></a>内网DNS地址请参见<a href="https://support.huaweicloud.com/dns_faq/dns_faq_002.html" target="_blank" rel="noopener noreferrer">华为云提供的内网DNS地址是多少？</a></p>
    </td>
    </tr>
    <tr id="row45988614"><td class="cellrowborder" valign="top" width="22.08%" headers="mcps1.2.5.1.1 "><p id="p34090260"><a name="p34090260"></a><a name="p34090260"></a>secondary_dns</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.920000000000002%" headers="mcps1.2.5.1.2 "><p id="p9847715"><a name="p9847715"></a><a name="p9847715"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.3 "><p id="p5765255417482"><a name="p5765255417482"></a><a name="p5765255417482"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="46%" headers="mcps1.2.5.1.4 "><a name="ul59230186430"></a><a name="ul59230186430"></a><ul id="ul59230186430"><li>功能说明：子网dns服务器地址2</li><li>约束：ip格式，不支持IPv6地址。</li></ul>
    <p id="p4732746123620"><a name="p4732746123620"></a><a name="p4732746123620"></a>内网DNS地址请参见<a href="https://support.huaweicloud.com/dns_faq/dns_faq_002.html" target="_blank" rel="noopener noreferrer">华为云提供的内网DNS地址是多少？</a></p>
    </td>
    </tr>
    <tr id="row1596910210505"><td class="cellrowborder" valign="top" width="22.08%" headers="mcps1.2.5.1.1 "><p id="p1842890810505"><a name="p1842890810505"></a><a name="p1842890810505"></a>dnsList</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.920000000000002%" headers="mcps1.2.5.1.2 "><p id="p1634655410505"><a name="p1634655410505"></a><a name="p1634655410505"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.3 "><p id="p16634345155517"><a name="p16634345155517"></a><a name="p16634345155517"></a>Array of strings</p>
    </td>
    <td class="cellrowborder" valign="top" width="46%" headers="mcps1.2.5.1.4 "><a name="ul32521424144310"></a><a name="ul32521424144310"></a><ul id="ul32521424144310"><li>功能说明：子网dns服务器地址的集合；如果想使用两个以上dns服务器，请使用该字段</li><li>约束：是子网dns服务器地址1跟子网dns服务器地址2的合集的父集，不支持IPv6地址。</li></ul>
    <p id="p13586105323611"><a name="p13586105323611"></a><a name="p13586105323611"></a>内网DNS地址请参见<a href="https://support.huaweicloud.com/dns_faq/dns_faq_002.html" target="_blank" rel="noopener noreferrer">华为云提供的内网DNS地址是多少？</a></p>
    </td>
    </tr>
    <tr id="row66578044"><td class="cellrowborder" valign="top" width="22.08%" headers="mcps1.2.5.1.1 "><p id="p24112512"><a name="p24112512"></a><a name="p24112512"></a>availability_zone</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.920000000000002%" headers="mcps1.2.5.1.2 "><p id="p6956456"><a name="p6956456"></a><a name="p6956456"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.3 "><p id="p3934528717482"><a name="p3934528717482"></a><a name="p3934528717482"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="46%" headers="mcps1.2.5.1.4 "><a name="ul14409122710438"></a><a name="ul14409122710438"></a><ul id="ul14409122710438"><li>功能说明：子网所在的可用区标识</li><li>约束：系统存在的可用区标识</li></ul>
    </td>
    </tr>
    <tr id="row53182860"><td class="cellrowborder" valign="top" width="22.08%" headers="mcps1.2.5.1.1 "><p id="p12844374"><a name="p12844374"></a><a name="p12844374"></a>vpc_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.920000000000002%" headers="mcps1.2.5.1.2 "><p id="p33761356"><a name="p33761356"></a><a name="p33761356"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.3 "><p id="p3285166017482"><a name="p3285166017482"></a><a name="p3285166017482"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="46%" headers="mcps1.2.5.1.4 "><p id="p50315352"><a name="p50315352"></a><a name="p50315352"></a>子网所在VPC标识</p>
    </td>
    </tr>
    <tr id="row13029301879"><td class="cellrowborder" valign="top" width="22.08%" headers="mcps1.2.5.1.1 "><p id="p8303103018715"><a name="p8303103018715"></a><a name="p8303103018715"></a>extra_dhcp_opts</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.920000000000002%" headers="mcps1.2.5.1.2 "><p id="p1030320304714"><a name="p1030320304714"></a><a name="p1030320304714"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.3 "><p id="p8303730570"><a name="p8303730570"></a><a name="p8303730570"></a>Array of <a href="#table1805181451016">extra_dhcp_opt</a> objects</p>
    </td>
    <td class="cellrowborder" valign="top" width="46%" headers="mcps1.2.5.1.4 "><p id="p130310301176"><a name="p130310301176"></a><a name="p130310301176"></a>子网配置的NTP地址，详情请参见<a href="#table1805181451016">extra_dhcp_opt对象</a>。</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 4**  extra\_dhcp\_opt对象

    <a name="table1805181451016"></a>
    <table><thead align="left"><tr id="row1806141418109"><th class="cellrowborder" valign="top" width="21.740000000000002%" id="mcps1.2.5.1.1"><p id="p1948182811017"><a name="p1948182811017"></a><a name="p1948182811017"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="16.17%" id="mcps1.2.5.1.2"><p id="p19515288107"><a name="p19515288107"></a><a name="p19515288107"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="16.619999999999997%" id="mcps1.2.5.1.3"><p id="p755202861014"><a name="p755202861014"></a><a name="p755202861014"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="45.47%" id="mcps1.2.5.1.4"><p id="p66018281105"><a name="p66018281105"></a><a name="p66018281105"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row19806161420105"><td class="cellrowborder" valign="top" width="21.740000000000002%" headers="mcps1.2.5.1.1 "><p id="p1834323611017"><a name="p1834323611017"></a><a name="p1834323611017"></a>opt_value</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.17%" headers="mcps1.2.5.1.2 "><p id="p1034310368108"><a name="p1034310368108"></a><a name="p1034310368108"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.619999999999997%" headers="mcps1.2.5.1.3 "><p id="p15343163651014"><a name="p15343163651014"></a><a name="p15343163651014"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.47%" headers="mcps1.2.5.1.4 "><a name="ul1734314363102"></a><a name="ul1734314363102"></a><ul id="ul1734314363102"><li>功能说明：子网配置的NTP地址。</li><li>约束：<p id="p1984274292214"><a name="p1984274292214"></a><a name="p1984274292214"></a>opt_name配置为”ntp”，则表示是子网ntp地址，目前只支持IPv4地址，每个IP地址以逗号隔开，IP地址个数不能超过4个，不能存在相同地址。该字段为null表示取消该子网NTP的设置，不能为””(空字符串)。</p>
    </li></ul>
    </td>
    </tr>
    <tr id="row48061714191011"><td class="cellrowborder" valign="top" width="21.740000000000002%" headers="mcps1.2.5.1.1 "><p id="p33437363104"><a name="p33437363104"></a><a name="p33437363104"></a>opt_name</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.17%" headers="mcps1.2.5.1.2 "><p id="p1634393613106"><a name="p1634393613106"></a><a name="p1634393613106"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.619999999999997%" headers="mcps1.2.5.1.3 "><p id="p14343113613104"><a name="p14343113613104"></a><a name="p14343113613104"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.47%" headers="mcps1.2.5.1.4 "><a name="ul1934353641010"></a><a name="ul1934353641010"></a><ul id="ul1934353641010"><li>功能说明：子网配置的NTP地址名称</li><li>约束：目前只支持填写字符串“ntp”。</li></ul>
    </td>
    </tr>
    </tbody>
    </table>


-   请求样例

    ```
    POST https://{Endpoint}/v1/{project_id}/subnets
    
    {
        "subnet": {
            "name": "subnet",
            "description": "",
            "cidr": "192.168.20.0/24",
            "gateway_ip": "192.168.20.1",
            "ipv6_enable": true,
            "dhcp_enable": true,
            "primary_dns": "114.xx.xx.114",
            "secondary_dns": "114.xx.xx.115",
            "dnsList": [
                "114.xx.xx.114",
                "114.xx.xx.115"
            ],
            "availability_zone": "aa-bb-cc",//假设可用区标识为aa-bb-cc
            "vpc_id": "3ec3b33f-ac1c-4630-ad1c-7dba1ed79d85",
            "extra_dhcp_opts": [
                {
                    "opt_value": "10.100.0.33,10.100.0.34",
                    "opt_name": "ntp"
                }
            ]
        }
    }
    ```


## 响应消息<a name="section51595365"></a>

-   响应参数

    **表 5**  响应参数

    <a name="table3201287115737"></a>
    <table><thead align="left"><tr id="row4941460315737"><th class="cellrowborder" valign="top" width="18.34%" id="mcps1.2.4.1.1"><p id="p4315992415737"><a name="p4315992415737"></a><a name="p4315992415737"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="25.509999999999998%" id="mcps1.2.4.1.2"><p id="p3996487815737"><a name="p3996487815737"></a><a name="p3996487815737"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="56.15%" id="mcps1.2.4.1.3"><p id="p1592968015737"><a name="p1592968015737"></a><a name="p1592968015737"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row1523569015737"><td class="cellrowborder" valign="top" width="18.34%" headers="mcps1.2.4.1.1 "><p id="p2613139715737"><a name="p2613139715737"></a><a name="p2613139715737"></a>subnet</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.509999999999998%" headers="mcps1.2.4.1.2 "><p id="p5206127615737"><a name="p5206127615737"></a><a name="p5206127615737"></a>Object</p>
    </td>
    <td class="cellrowborder" valign="top" width="56.15%" headers="mcps1.2.4.1.3 "><p id="p3616274015737"><a name="p3616274015737"></a><a name="p3616274015737"></a><a href="#table54041329">subnet对象</a></p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 6**  subnet对象

    <a name="table54041329"></a>
    <table><thead align="left"><tr id="row3088388"><th class="cellrowborder" valign="top" width="28.860000000000003%" id="mcps1.2.4.1.1"><p id="p48832851"><a name="p48832851"></a><a name="p48832851"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="21.25%" id="mcps1.2.4.1.2"><p id="p31305988175034"><a name="p31305988175034"></a><a name="p31305988175034"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="49.89%" id="mcps1.2.4.1.3"><p id="p14620943"><a name="p14620943"></a><a name="p14620943"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row43445707"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p29441404"><a name="p29441404"></a><a name="p29441404"></a>id</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p52757101175034"><a name="p52757101175034"></a><a name="p52757101175034"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><p id="p25747420"><a name="p25747420"></a><a name="p25747420"></a>uuid形式的一个资源标识</p>
    </td>
    </tr>
    <tr id="row30400195"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p46496694"><a name="p46496694"></a><a name="p46496694"></a>name</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p45466823175034"><a name="p45466823175034"></a><a name="p45466823175034"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><a name="ul23311559134110"></a><a name="ul23311559134110"></a><ul id="ul23311559134110"><li>功能说明：子网名称</li><li>取值范围：1-64个字符，支持数字、字母、中文、_(下划线)、-（中划线）、.（点）</li></ul>
    </td>
    </tr>
    <tr id="row558919286262"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p71821430112615"><a name="p71821430112615"></a><a name="p71821430112615"></a>description</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p4182153010268"><a name="p4182153010268"></a><a name="p4182153010268"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><a name="ul183161512131417"></a><a name="ul183161512131417"></a><ul id="ul183161512131417"><li>功能说明：子网描述</li><li>取值范围：0-255个字符，不能包含“&lt;”和“&gt;”。</li></ul>
    </td>
    </tr>
    <tr id="row51945267"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p46817064"><a name="p46817064"></a><a name="p46817064"></a>cidr</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p58934074175034"><a name="p58934074175034"></a><a name="p58934074175034"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><a name="ul899517162424"></a><a name="ul899517162424"></a><ul id="ul899517162424"><li>功能说明：子网的网段</li><li>取值范围：必须在vpc对应cidr范围内</li><li>约束：必须是cidr格式。掩码长度不能大于28</li></ul>
    </td>
    </tr>
    <tr id="row39696553"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p61304253"><a name="p61304253"></a><a name="p61304253"></a>gateway_ip</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p8930669175034"><a name="p8930669175034"></a><a name="p8930669175034"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><a name="ul1526163074211"></a><a name="ul1526163074211"></a><ul id="ul1526163074211"><li>功能说明：子网的网关</li><li>取值范围：子网网段中的IP地址</li><li>约束：必须是ip格式</li></ul>
    </td>
    </tr>
    <tr id="row185651850141918"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p19297115231920"><a name="p19297115231920"></a><a name="p19297115231920"></a>ipv6_enable</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p529715528195"><a name="p529715528195"></a><a name="p529715528195"></a>Boolean</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><p id="p102973527197"><a name="p102973527197"></a><a name="p102973527197"></a>是否创建IPv6子网</p>
    <div class="note" id="note1937013416408"><a name="note1937013416408"></a><a name="note1937013416408"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p163701841194017"><a name="p163701841194017"></a><a name="p163701841194017"></a>该参数目前仅在“华北-北京四”区域开放，且申请IPv6公测后才可设置。</p>
    </div></div>
    </td>
    </tr>
    <tr id="row98259468191"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p18297205218192"><a name="p18297205218192"></a><a name="p18297205218192"></a>cidr_v6</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p429725216193"><a name="p429725216193"></a><a name="p429725216193"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><p id="p10395101392610"><a name="p10395101392610"></a><a name="p10395101392610"></a>IPv6子网的网段，如果子网为IPv4子网，则不返回此参数</p>
    </td>
    </tr>
    <tr id="row611284491918"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p112970521191"><a name="p112970521191"></a><a name="p112970521191"></a>gateway_ip_v6</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p1629713522197"><a name="p1629713522197"></a><a name="p1629713522197"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><p id="p17395813192617"><a name="p17395813192617"></a><a name="p17395813192617"></a>IPv6子网的网关，如果子网为IPv4子网，则不返回此参数</p>
    </td>
    </tr>
    <tr id="row4606985"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p37621475"><a name="p37621475"></a><a name="p37621475"></a>dhcp_enable</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p52295560175034"><a name="p52295560175034"></a><a name="p52295560175034"></a>Boolean</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><p id="p29849008175159"><a name="p29849008175159"></a><a name="p29849008175159"></a>子网是否开启dhcp功能</p>
    </td>
    </tr>
    <tr id="row1048160"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p17792110"><a name="p17792110"></a><a name="p17792110"></a>primary_dns</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p8081972175034"><a name="p8081972175034"></a><a name="p8081972175034"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><p id="p19162058"><a name="p19162058"></a><a name="p19162058"></a>子网dns服务器地址1</p>
    </td>
    </tr>
    <tr id="row8622890"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p27365507"><a name="p27365507"></a><a name="p27365507"></a>secondary_dns</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p50659992175034"><a name="p50659992175034"></a><a name="p50659992175034"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><p id="p58602024"><a name="p58602024"></a><a name="p58602024"></a>子网dns服务器地址2</p>
    </td>
    </tr>
    <tr id="row29925916105649"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p8080156105649"><a name="p8080156105649"></a><a name="p8080156105649"></a>dnsList</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p9490145416555"><a name="p9490145416555"></a><a name="p9490145416555"></a>Array of strings</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><p id="p31678735105649"><a name="p31678735105649"></a><a name="p31678735105649"></a>子网dns服务器地址列表</p>
    </td>
    </tr>
    <tr id="row49143529"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p21202951"><a name="p21202951"></a><a name="p21202951"></a>availability_zone</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p9818717175034"><a name="p9818717175034"></a><a name="p9818717175034"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><p id="p44463652175257"><a name="p44463652175257"></a><a name="p44463652175257"></a>子网所在的可用区标识</p>
    </td>
    </tr>
    <tr id="row15677883"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p61948991"><a name="p61948991"></a><a name="p61948991"></a>vpc_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p57118635175034"><a name="p57118635175034"></a><a name="p57118635175034"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><p id="p36052245"><a name="p36052245"></a><a name="p36052245"></a>子网所在VPC标识</p>
    </td>
    </tr>
    <tr id="row34550710"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p47144157"><a name="p47144157"></a><a name="p47144157"></a>status</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p63206697175034"><a name="p63206697175034"></a><a name="p63206697175034"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><a name="ul756817571315"></a><a name="ul756817571315"></a><ul id="ul756817571315"><li>功能说明：子网的状态。</li><li>取值范围：ACTIVE,UNKNOWN,ERROR<a name="ul83391032184614"></a><a name="ul83391032184614"></a><ul id="ul83391032184614"><li>ACTIVE表示子网已挂载到ROUTER上</li><li>UNKNOWN表示子网还未挂载到ROUTER上</li><li>ERROR表示子网状态故障</li></ul>
    </li><li>创建子网的流程为：先创建子网，然后在线程中将子网挂载在router上。<p id="p149484964617"><a name="p149484964617"></a><a name="p149484964617"></a>在并发场景下，由于使用相同的cidr来创建子网，底层发生校验后使得挂载router失败，回滚创建子网的过程，子网创建失败。</p>
    <p id="p116091753134614"><a name="p116091753134614"></a><a name="p116091753134614"></a>创建子网接口返回时，状态为UNKNOWN。</p>
    </li></ul>
    </td>
    </tr>
    <tr id="row3884489103221"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p34960403103221"><a name="p34960403103221"></a><a name="p34960403103221"></a>neutron_network_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p64221241103221"><a name="p64221241103221"></a><a name="p64221241103221"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><p id="p34538004103221"><a name="p34538004103221"></a><a name="p34538004103221"></a>对应网络（OpenStack Neutron接口）id</p>
    </td>
    </tr>
    <tr id="row5205001104010"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p18951959104010"><a name="p18951959104010"></a><a name="p18951959104010"></a>neutron_subnet_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p58188011104010"><a name="p58188011104010"></a><a name="p58188011104010"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><p id="p15608450104010"><a name="p15608450104010"></a><a name="p15608450104010"></a>对应子网（OpenStack Neutron接口）id</p>
    </td>
    </tr>
    <tr id="row1850193520206"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p114118445203"><a name="p114118445203"></a><a name="p114118445203"></a>neutron_subnet_id_v6</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p241144422016"><a name="p241144422016"></a><a name="p241144422016"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><p id="p14181193312260"><a name="p14181193312260"></a><a name="p14181193312260"></a>对应IPv6子网（OpenStack Neutron接口）id，如果子网为IPv4子网，则不返回此参数</p>
    </td>
    </tr>
    <tr id="row179381878268"><td class="cellrowborder" valign="top" width="28.860000000000003%" headers="mcps1.2.4.1.1 "><p id="p5714303263"><a name="p5714303263"></a><a name="p5714303263"></a>extra_dhcp_opts</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.25%" headers="mcps1.2.4.1.2 "><p id="p01223042610"><a name="p01223042610"></a><a name="p01223042610"></a>Array&nbsp;of&nbsp;<a href="#table019517383270">extra_dhcp_opt</a> objects</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.89%" headers="mcps1.2.4.1.3 "><p id="p41825339261"><a name="p41825339261"></a><a name="p41825339261"></a>子网配置的NTP地址，详情请参见<a href="#table019517383270">表7</a>。</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 7**  extra\_dhcp\_opt对象

    <a name="table019517383270"></a>
    <table><thead align="left"><tr id="vpc_subnet01_0001_row1806141418109"><th class="cellrowborder" valign="top" width="21.740000000000002%" id="mcps1.2.5.1.1"><p id="vpc_subnet01_0001_p1948182811017"><a name="vpc_subnet01_0001_p1948182811017"></a><a name="vpc_subnet01_0001_p1948182811017"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="16.17%" id="mcps1.2.5.1.2"><p id="vpc_subnet01_0001_p19515288107"><a name="vpc_subnet01_0001_p19515288107"></a><a name="vpc_subnet01_0001_p19515288107"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="16.619999999999997%" id="mcps1.2.5.1.3"><p id="vpc_subnet01_0001_p755202861014"><a name="vpc_subnet01_0001_p755202861014"></a><a name="vpc_subnet01_0001_p755202861014"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="45.47%" id="mcps1.2.5.1.4"><p id="vpc_subnet01_0001_p66018281105"><a name="vpc_subnet01_0001_p66018281105"></a><a name="vpc_subnet01_0001_p66018281105"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="vpc_subnet01_0001_row19806161420105"><td class="cellrowborder" valign="top" width="21.740000000000002%" headers="mcps1.2.5.1.1 "><p id="vpc_subnet01_0001_p1834323611017"><a name="vpc_subnet01_0001_p1834323611017"></a><a name="vpc_subnet01_0001_p1834323611017"></a>opt_value</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.17%" headers="mcps1.2.5.1.2 "><p id="vpc_subnet01_0001_p1034310368108"><a name="vpc_subnet01_0001_p1034310368108"></a><a name="vpc_subnet01_0001_p1034310368108"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.619999999999997%" headers="mcps1.2.5.1.3 "><p id="vpc_subnet01_0001_p15343163651014"><a name="vpc_subnet01_0001_p15343163651014"></a><a name="vpc_subnet01_0001_p15343163651014"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.47%" headers="mcps1.2.5.1.4 "><a name="vpc_subnet01_0001_ul1734314363102"></a><a name="vpc_subnet01_0001_ul1734314363102"></a><ul id="vpc_subnet01_0001_ul1734314363102"><li>功能说明：子网配置的NTP地址。</li><li>约束：<p id="vpc_subnet01_0001_p1984274292214"><a name="vpc_subnet01_0001_p1984274292214"></a><a name="vpc_subnet01_0001_p1984274292214"></a>opt_name配置为”ntp”，则表示是子网ntp地址，目前只支持IPv4地址，每个IP地址以逗号隔开，IP地址个数不能超过4个，不能存在相同地址。该字段为null表示取消该子网NTP的设置，不能为””(空字符串)。</p>
    </li></ul>
    </td>
    </tr>
    <tr id="vpc_subnet01_0001_row48061714191011"><td class="cellrowborder" valign="top" width="21.740000000000002%" headers="mcps1.2.5.1.1 "><p id="vpc_subnet01_0001_p33437363104"><a name="vpc_subnet01_0001_p33437363104"></a><a name="vpc_subnet01_0001_p33437363104"></a>opt_name</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.17%" headers="mcps1.2.5.1.2 "><p id="vpc_subnet01_0001_p1634393613106"><a name="vpc_subnet01_0001_p1634393613106"></a><a name="vpc_subnet01_0001_p1634393613106"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.619999999999997%" headers="mcps1.2.5.1.3 "><p id="vpc_subnet01_0001_p14343113613104"><a name="vpc_subnet01_0001_p14343113613104"></a><a name="vpc_subnet01_0001_p14343113613104"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.47%" headers="mcps1.2.5.1.4 "><a name="vpc_subnet01_0001_ul1934353641010"></a><a name="vpc_subnet01_0001_ul1934353641010"></a><ul id="vpc_subnet01_0001_ul1934353641010"><li>功能说明：子网配置的NTP地址名称</li><li>约束：目前只支持填写字符串“ntp”。</li></ul>
    </td>
    </tr>
    </tbody>
    </table>

-   响应样例

    ```
    {
        "subnet": {
            "id": "4779ab1c-7c1a-44b1-a02e-93dfc361b32d",
            "name": "subnet",
            "description": "",
            "cidr": "192.168.20.0/24",
            "dnsList": [
                "114.xx.xx.114",
                "1114.xx.xx.115"
            ],
            "status": "UNKNOWN",
            "vpc_id": "3ec3b33f-ac1c-4630-ad1c-7dba1ed79d85",
            "gateway_ip": "192.168.20.1",
            "ipv6_enable": true, 
            "cidr_v6": "2001:db8:a583::/64",
            "gateway_ip_v6": "2001:db8:a583::1",
            "dhcp_enable": true,
            "primary_dns": "114.xx.xx.114",
            "secondary_dns": "114.xx.xx.115",
            "availability_zone": "aa-bb-cc",//假设可用区标识为aa-bb-cc。
            "neutron_network_id": "4779ab1c-7c1a-44b1-a02e-93dfc361b32d",
            "neutron_subnet_id": "213cb9d-3122-2ac1-1a29-91ffc1231a12"
            "neutron_subnet_id_v6": "e0fa7de1-a6e2-44c9-b052-b9d8cebe93c4",  
            "extra_dhcp_opts": [
                {
                    "opt_value": "10.100.0.33,10.100.0.34",
                    "opt_name": "ntp"
                }
            ]
        }
    }
    ```


## 状态码<a name="section31981619"></a>

请参见[状态码](状态码.md)。

## 错误码<a name="section85821649202813"></a>

请参考[错误码](错误码.md)。

